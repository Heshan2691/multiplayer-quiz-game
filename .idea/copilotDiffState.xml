<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/UI-UPDATES.md">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/UI-UPDATES.md" />
              <option name="updatedContent" value="# Quiz Game - Modern UI Update Summary&#10;&#10;## Overview&#10;The Quiz Game UI has been completely modernized with a professional, contemporary design featuring glassmorphism effects, smooth animations, and an enhanced user experience.&#10;&#10;## Key Visual Improvements&#10;&#10;###  Design System Updates&#10;&#10;#### Typography&#10;- **New Font**: Inter font family (Google Fonts) - clean, modern, professional&#10;- **Font Weights**: 300-800 range for better hierarchy&#10;- **Letter Spacing**: Refined for better readability&#10;- **Line Heights**: Improved for better text flow&#10;&#10;#### Color Palette&#10;- **Primary Gradient**: Purple-blue gradient (#667eea to #764ba2)&#10;- **Admin Gradient**: Dark slate (#1e293b to #334155)&#10;- **Accent Colors**: Modern blue (#60a5fa), green (#34d399), amber (#fbbf24)&#10;- **Status Colors**: Success, warning, danger with gradient variations&#10;&#10;#### Glassmorphism Effects&#10;- **Backdrop Blur**: 20px blur for frosted glass effect&#10;- **Border Styles**: 1px semi-transparent borders&#10;- **Shadow Layers**: Multi-layer shadows for depth&#10;- **Transparency**: 8-15% white overlays&#10;&#10;###  Player Interface (index.html)&#10;&#10;#### Welcome Screen&#10;- Modern card with white background and subtle shadow&#10;- Gradient text for the heading&#10;- Enhanced input field with focus animations&#10;- Button with gradient background and hover lift effect&#10;- Added subtitle for better UX&#10;&#10;#### Game Info Bar&#10;- Glassmorphism card with backdrop blur&#10;- Player icon and star icon for visual appeal&#10;- Hover lift animation&#10;- Gold glow effect on score&#10;&#10;#### Question Cards&#10;- Large rounded corners (30px)&#10;- Slide-up entrance animation&#10;- Better typography hierarchy&#10;- Improved question header with border separator&#10;&#10;#### Timer&#10;- Gradient background (red-pink)&#10;- Large, bold display (3em)&#10;- Pulse animation during countdown&#10;- Shake animation when time is low (≤5 seconds)&#10;- Dynamic class switching for urgency&#10;&#10;#### Answer Options&#10;- Grid layout (2 columns)&#10;- Unique gradient for each option:&#10;  - Option 1: Red-pink gradient&#10;  - Option 2: Blue-cyan gradient&#10;  - Option 3: Pink-yellow gradient&#10;  - Option 4: Cyan-purple gradient&#10;- Hover effects: lift + scale + glow&#10;- Smooth transitions (cubic-bezier easing)&#10;- Enhanced correct/wrong animations&#10;&#10;#### Leaderboard&#10;- Modern card design with rounded corners&#10;- Gold, silver, bronze medal styling with glows&#10;- Personal rank highlight&#10;- Hover animations for list items&#10;- Better spacing and typography&#10;&#10;#### Notifications&#10;- Fixed position (top-right)&#10;- Glassmorphism with backdrop blur&#10;- Slide-in animation from right&#10;- Left border accent color&#10;- Enhanced shadows&#10;&#10;###  Admin Panel (admin.html)&#10;&#10;#### Header&#10;- Large gradient title&#10;- Status badge with pulse animation&#10;- Glassmorphism background&#10;- Improved spacing&#10;&#10;#### Status Cards&#10;- 4-column grid layout&#10;- Individual hover effects&#10;- Color-coded value displays with glows:&#10;  - Players: Green with glow&#10;  - Questions: Amber with glow&#10;  - Timer: Red with glow&#10;  - Current: Blue with glow&#10;- Smooth transitions&#10;&#10;#### Control Panels&#10;- Glassmorphism cards with blur&#10;- Hover shadow enhancement&#10;- Better padding and spacing&#10;- Gradient section headers&#10;&#10;#### Form Controls&#10;- Modern input styling&#10;- Focus state animations&#10;- Placeholder color updates&#10;- Border and shadow transitions&#10;- Lift effect on focus&#10;&#10;#### Buttons&#10;- 5 button styles with gradients:&#10;  - Primary: Blue gradient&#10;  - Success: Green gradient&#10;  - Danger: Red gradient&#10;  - Warning: Amber gradient&#10;  - Info: Cyan gradient&#10;- Shimmer effect on hover&#10;- Lift animation (translateY)&#10;- Enhanced shadows&#10;- Active state feedback&#10;&#10;#### Player List&#10;- Live leaderboard with rankings&#10;- Medal displays ()&#10;- Rank-based styling with glows&#10;- Hover slide animation&#10;- Score with green glow effect&#10;- Time display in seconds&#10;&#10;#### Question List&#10;- Card-based layout&#10;- Blue left border accent&#10;- Hover slide animation&#10;- Better spacing and typography&#10;- Enhanced delete button&#10;&#10;###  Animations &amp; Transitions&#10;&#10;#### New Animations&#10;- `fadeInDown`: Header entrance&#10;- `scaleIn`: Card entrance&#10;- `slideUp`: Question card entrance&#10;- `timerPulse`: Timer beating effect&#10;- `timerShake`: Low time urgency&#10;- `correctPulse`: Correct answer feedback&#10;- `wrongShake`: Wrong answer feedback&#10;- `slideInRight`: Notification entrance&#10;- `statusPulse`: Admin game status&#10;- `slideInNotif`: Admin notification&#10;&#10;#### Transition Timings&#10;- **Fast**: 0.3s for hover effects&#10;- **Medium**: 0.4-0.5s for entrances&#10;- **Smooth**: cubic-bezier(0.4, 0, 0.2, 1) easing&#10;&#10;###  Responsive Design&#10;&#10;#### Mobile Optimizations (&lt; 768px)&#10;- Single column layouts&#10;- Reduced font sizes&#10;- Full-width notifications&#10;- Adjusted padding and spacing&#10;- Stack option buttons vertically&#10;&#10;#### Tablet Optimizations (&lt; 1024px)&#10;- Single column for admin panels&#10;- Adjusted grid layouts&#10;- Better touch targets&#10;&#10;###  Interactive Elements&#10;&#10;#### Hover States&#10;- Lift animations (translateY)&#10;- Scale effects&#10;- Shadow enhancements&#10;- Background transitions&#10;- Shimmer effects on buttons&#10;&#10;#### Focus States&#10;- Border color changes&#10;- Shadow rings (4px)&#10;- Lift animations&#10;- Background brightening&#10;&#10;#### Active States&#10;- Reduced lift (visual feedback)&#10;- Scale adjustments&#10;- Immediate response&#10;&#10;### ✨ Polish Details&#10;&#10;- Custom scrollbar styling (blue theme)&#10;- Smooth scroll behavior&#10;- Background gradient overlays with radial patterns&#10;- Fixed background attachment&#10;- Consistent border radius (12-30px range)&#10;- Layered shadows for depth&#10;- Font smoothing and anti-aliasing&#10;- Better contrast ratios for accessibility&#10;&#10;## Technical Improvements&#10;&#10;- Modern CSS3 features (backdrop-filter, gradients, transforms)&#10;- Hardware-accelerated animations&#10;- Better performance with will-change hints&#10;- Semantic HTML structure&#10;- Consistent spacing system&#10;- BEM-inspired class naming&#10;- Mobile-first responsive approach&#10;- Cross-browser compatibility&#10;&#10;## Browser Support&#10;&#10;- Chrome/Edge (latest)&#10;- Firefox (latest)&#10;- Safari (latest)&#10;- Opera (latest)&#10;&#10;Note: Backdrop filter may have limited support in older browsers but gracefully degrades.&#10;&#10;---&#10;&#10;**Last Updated**: November 5, 2025&#10;**Version**: 2.0 (Modern UI Refresh)&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/web/admin.html">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/web/admin.html" />
              <option name="originalContent" value="&lt;!DOCTYPE html&gt;&#10;&lt;html lang=&quot;en&quot;&gt;&#10;&lt;head&gt;&#10;    &lt;meta charset=&quot;UTF-8&quot;&gt;&#10;    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;&#10;    &lt;title&gt;Quiz Game - Admin Panel&lt;/title&gt;&#10;    &lt;style&gt;&#10;        * {&#10;            margin: 0;&#10;            padding: 0;&#10;            box-sizing: border-box;&#10;        }&#10;&#10;        body {&#10;            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;&#10;            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);&#10;            min-height: 100vh;&#10;            padding: 20px;&#10;            color: #ecf0f1;&#10;        }&#10;&#10;        .admin-container {&#10;            max-width: 1400px;&#10;            margin: 0 auto;&#10;        }&#10;&#10;        .header {&#10;            text-align: center;&#10;            margin-bottom: 30px;&#10;            padding: 20px;&#10;            background: rgba(255,255,255,0.1);&#10;            border-radius: 15px;&#10;            backdrop-filter: blur(10px);&#10;        }&#10;&#10;        .header h1 {&#10;            font-size: 2.5em;&#10;            margin-bottom: 10px;&#10;            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);&#10;        }&#10;&#10;        .status-bar {&#10;            display: flex;&#10;            justify-content: space-around;&#10;            margin-bottom: 30px;&#10;            gap: 15px;&#10;        }&#10;&#10;        .status-card {&#10;            flex: 1;&#10;            background: rgba(255,255,255,0.1);&#10;            padding: 20px;&#10;            border-radius: 15px;&#10;            text-align: center;&#10;            backdrop-filter: blur(10px);&#10;        }&#10;&#10;        .status-card h3 {&#10;            font-size: 1em;&#10;            color: #bdc3c7;&#10;            margin-bottom: 10px;&#10;        }&#10;&#10;        .status-card .value {&#10;            font-size: 2em;&#10;            font-weight: bold;&#10;            color: #3498db;&#10;        }&#10;&#10;        .status-card.online .value { color: #2ecc71; }&#10;        .status-card.questions .value { color: #f39c12; }&#10;        .status-card.timer .value { color: #e74c3c; }&#10;&#10;        .main-content {&#10;            display: grid;&#10;            grid-template-columns: 1fr 1fr;&#10;            gap: 20px;&#10;            margin-bottom: 20px;&#10;        }&#10;&#10;        .panel {&#10;            background: rgba(255,255,255,0.1);&#10;            padding: 25px;&#10;            border-radius: 15px;&#10;            backdrop-filter: blur(10px);&#10;        }&#10;&#10;        .panel h2 {&#10;            margin-bottom: 20px;&#10;            color: #3498db;&#10;            border-bottom: 2px solid #3498db;&#10;            padding-bottom: 10px;&#10;        }&#10;&#10;        .form-group {&#10;            margin-bottom: 20px;&#10;        }&#10;&#10;        .form-group label {&#10;            display: block;&#10;            margin-bottom: 8px;&#10;            font-weight: bold;&#10;            color: #ecf0f1;&#10;        }&#10;&#10;        .form-group input,&#10;        .form-group textarea,&#10;        .form-group select {&#10;            width: 100%;&#10;            padding: 12px;&#10;            border: 2px solid rgba(255,255,255,0.2);&#10;            border-radius: 8px;&#10;            background: rgba(255,255,255,0.1);&#10;            color: white;&#10;            font-size: 1em;&#10;            transition: all 0.3s;&#10;        }&#10;&#10;        .form-group input:focus,&#10;        .form-group textarea:focus,&#10;        .form-group select:focus {&#10;            outline: none;&#10;            border-color: #3498db;&#10;            background: rgba(255,255,255,0.15);&#10;        }&#10;&#10;        .form-group textarea {&#10;            resize: vertical;&#10;            min-height: 60px;&#10;        }&#10;&#10;        .option-inputs {&#10;            display: grid;&#10;            grid-template-columns: 1fr 1fr;&#10;            gap: 10px;&#10;        }&#10;&#10;        .btn {&#10;            padding: 12px 30px;&#10;            border: none;&#10;            border-radius: 8px;&#10;            font-size: 1em;&#10;            font-weight: bold;&#10;            cursor: pointer;&#10;            transition: all 0.3s;&#10;            text-transform: uppercase;&#10;            letter-spacing: 1px;&#10;        }&#10;&#10;        .btn-primary {&#10;            background: #3498db;&#10;            color: white;&#10;        }&#10;&#10;        .btn-primary:hover {&#10;            background: #2980b9;&#10;            transform: translateY(-2px);&#10;            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.4);&#10;        }&#10;&#10;        .btn-success {&#10;            background: #2ecc71;&#10;            color: white;&#10;        }&#10;&#10;        .btn-success:hover {&#10;            background: #27ae60;&#10;            transform: translateY(-2px);&#10;            box-shadow: 0 5px 15px rgba(46, 204, 113, 0.4);&#10;        }&#10;&#10;        .btn-danger {&#10;            background: #e74c3c;&#10;            color: white;&#10;        }&#10;&#10;        .btn-danger:hover {&#10;            background: #c0392b;&#10;            transform: translateY(-2px);&#10;            box-shadow: 0 5px 15px rgba(231, 76, 60, 0.4);&#10;        }&#10;&#10;        .btn-warning {&#10;            background: #f39c12;&#10;            color: white;&#10;        }&#10;&#10;        .btn-warning:hover {&#10;            background: #e67e22;&#10;            transform: translateY(-2px);&#10;        }&#10;&#10;        .btn-info {&#10;            background: #3498db;&#10;            color: white;&#10;        }&#10;&#10;        .btn-info:hover {&#10;            background: #2980b9;&#10;            transform: translateY(-2px);&#10;            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.4);&#10;        }&#10;&#10;        .control-buttons {&#10;            display: flex;&#10;            gap: 10px;&#10;            margin-top: 20px;&#10;        }&#10;&#10;        .control-buttons .btn {&#10;            flex: 1;&#10;        }&#10;&#10;        .questions-list {&#10;            max-height: 500px;&#10;            overflow-y: auto;&#10;            margin-top: 20px;&#10;        }&#10;&#10;        .question-item {&#10;            background: rgba(0,0,0,0.2);&#10;            padding: 15px;&#10;            border-radius: 10px;&#10;            margin-bottom: 15px;&#10;            border-left: 4px solid #3498db;&#10;        }&#10;&#10;        .question-item h4 {&#10;            color: #3498db;&#10;            margin-bottom: 10px;&#10;        }&#10;&#10;        .question-item .options {&#10;            margin: 10px 0;&#10;            font-size: 0.9em;&#10;        }&#10;&#10;        .question-item .correct {&#10;            color: #2ecc71;&#10;            font-weight: bold;&#10;        }&#10;&#10;        .question-item .actions {&#10;            display: flex;&#10;            gap: 10px;&#10;            margin-top: 10px;&#10;        }&#10;&#10;        .question-item .actions button {&#10;            padding: 8px 15px;&#10;            font-size: 0.9em;&#10;        }&#10;&#10;        .players-list {&#10;            max-height: 300px;&#10;            overflow-y: auto;&#10;        }&#10;&#10;        .player-item {&#10;            background: rgba(0,0,0,0.2);&#10;            padding: 15px;&#10;            border-radius: 10px;&#10;            margin-bottom: 12px;&#10;            display: flex;&#10;            justify-content: space-between;&#10;            align-items: center;&#10;            transition: all 0.3s ease;&#10;        }&#10;&#10;        .player-item:hover {&#10;            background: rgba(0,0,0,0.3);&#10;            transform: translateX(5px);&#10;        }&#10;&#10;        .player-item.rank-1 {&#10;            background: linear-gradient(135deg, rgba(255, 215, 0, 0.2) 0%, rgba(255, 215, 0, 0.05) 100%);&#10;            border: 2px solid rgba(255, 215, 0, 0.5);&#10;        }&#10;&#10;        .player-item.rank-2 {&#10;            background: linear-gradient(135deg, rgba(192, 192, 192, 0.2) 0%, rgba(192, 192, 192, 0.05) 100%);&#10;            border: 2px solid rgba(192, 192, 192, 0.5);&#10;        }&#10;&#10;        .player-item.rank-3 {&#10;            background: linear-gradient(135deg, rgba(205, 127, 50, 0.2) 0%, rgba(205, 127, 50, 0.05) 100%);&#10;            border: 2px solid rgba(205, 127, 50, 0.5);&#10;        }&#10;&#10;        .player-item .rank {&#10;            font-size: 1.3em;&#10;            font-weight: bold;&#10;            margin-right: 10px;&#10;            min-width: 35px;&#10;        }&#10;&#10;        .player-item .player-info {&#10;            flex: 1;&#10;            display: flex;&#10;            flex-direction: column;&#10;        }&#10;&#10;        .player-item .name {&#10;            font-weight: bold;&#10;            color: #3498db;&#10;            font-size: 1.1em;&#10;        }&#10;&#10;        .player-item .time {&#10;            font-size: 0.85em;&#10;            color: #95a5a6;&#10;            margin-top: 3px;&#10;        }&#10;&#10;        .player-item .score {&#10;            color: #2ecc71;&#10;            font-weight: bold;&#10;            font-size: 1.2em;&#10;        }&#10;&#10;        .settings-grid {&#10;            display: grid;&#10;            grid-template-columns: 1fr 1fr;&#10;            gap: 15px;&#10;        }&#10;&#10;        .notification {&#10;            position: fixed;&#10;            top: 20px;&#10;            right: 20px;&#10;            padding: 15px 25px;&#10;            background: rgba(46, 204, 113, 0.95);&#10;            color: white;&#10;            border-radius: 10px;&#10;            box-shadow: 0 4px 15px rgba(0,0,0,0.3);&#10;            animation: slideIn 0.3s;&#10;            z-index: 1000;&#10;        }&#10;&#10;        .notification.error {&#10;            background: rgba(231, 76, 60, 0.95);&#10;        }&#10;&#10;        @keyframes slideIn {&#10;            from {&#10;                transform: translateX(400px);&#10;                opacity: 0;&#10;            }&#10;            to {&#10;                transform: translateX(0);&#10;                opacity: 1;&#10;            }&#10;        }&#10;&#10;        .full-width {&#10;            grid-column: 1 / -1;&#10;        }&#10;&#10;        ::-webkit-scrollbar {&#10;            width: 8px;&#10;        }&#10;&#10;        ::-webkit-scrollbar-track {&#10;            background: rgba(0,0,0,0.2);&#10;            border-radius: 10px;&#10;        }&#10;&#10;        ::-webkit-scrollbar-thumb {&#10;            background: rgba(52, 152, 219, 0.5);&#10;            border-radius: 10px;&#10;        }&#10;&#10;        ::-webkit-scrollbar-thumb:hover {&#10;            background: rgba(52, 152, 219, 0.8);&#10;        }&#10;&#10;        .game-status {&#10;            display: inline-block;&#10;            padding: 5px 15px;&#10;            border-radius: 20px;&#10;            font-size: 0.9em;&#10;            font-weight: bold;&#10;        }&#10;&#10;        .game-status.running {&#10;            background: #2ecc71;&#10;            color: white;&#10;        }&#10;&#10;        .game-status.stopped {&#10;            background: #e74c3c;&#10;            color: white;&#10;        }&#10;&#10;        .game-status.paused {&#10;            background: #f39c12;&#10;            color: white;&#10;        }&#10;    &lt;/style&gt;&#10;&lt;/head&gt;&#10;&lt;body&gt;&#10;    &lt;div class=&quot;admin-container&quot;&gt;&#10;        &lt;div class=&quot;header&quot;&gt;&#10;            &lt;h1&gt; Quiz Game Admin Panel&lt;/h1&gt;&#10;            &lt;p&gt;Manage your quiz game in real-time&lt;/p&gt;&#10;            &lt;div style=&quot;margin-top: 10px;&quot;&gt;&#10;                &lt;span class=&quot;game-status stopped&quot; id=&quot;gameStatus&quot;&gt;Game Stopped&lt;/span&gt;&#10;            &lt;/div&gt;&#10;        &lt;/div&gt;&#10;&#10;        &lt;div class=&quot;status-bar&quot;&gt;&#10;            &lt;div class=&quot;status-card online&quot;&gt;&#10;                &lt;h3&gt;Players Online&lt;/h3&gt;&#10;                &lt;div class=&quot;value&quot; id=&quot;playersCount&quot;&gt;0&lt;/div&gt;&#10;            &lt;/div&gt;&#10;            &lt;div class=&quot;status-card questions&quot;&gt;&#10;                &lt;h3&gt;Total Questions&lt;/h3&gt;&#10;                &lt;div class=&quot;value&quot; id=&quot;questionsCount&quot;&gt;0&lt;/div&gt;&#10;            &lt;/div&gt;&#10;            &lt;div class=&quot;status-card timer&quot;&gt;&#10;                &lt;h3&gt;Question Timer&lt;/h3&gt;&#10;                &lt;div class=&quot;value&quot; id=&quot;currentTimer&quot;&gt;20s&lt;/div&gt;&#10;            &lt;/div&gt;&#10;            &lt;div class=&quot;status-card&quot;&gt;&#10;                &lt;h3&gt;Current Question&lt;/h3&gt;&#10;                &lt;div class=&quot;value&quot; id=&quot;currentQuestion&quot;&gt;-&lt;/div&gt;&#10;            &lt;/div&gt;&#10;        &lt;/div&gt;&#10;&#10;        &lt;div class=&quot;main-content&quot;&gt;&#10;            &lt;!-- Game Controls --&gt;&#10;            &lt;div class=&quot;panel&quot;&gt;&#10;                &lt;h2&gt; Game Controls&lt;/h2&gt;&#10;                &lt;div class=&quot;control-buttons&quot;&gt;&#10;                    &lt;button class=&quot;btn btn-success&quot; onclick=&quot;startGame()&quot;&gt;▶️ Start Game&lt;/button&gt;&#10;                    &lt;button class=&quot;btn btn-danger&quot; onclick=&quot;stopGame()&quot;&gt;⏹️ Stop Game&lt;/button&gt;&#10;                &lt;/div&gt;&#10;                &lt;div class=&quot;control-buttons&quot;&gt;&#10;                    &lt;button class=&quot;btn btn-info&quot; onclick=&quot;nextQuestion()&quot;&gt;▶️ Next Question&lt;/button&gt;&#10;                    &lt;button class=&quot;btn btn-warning&quot; onclick=&quot;skipQuestion()&quot;&gt;⏭️ Skip Question&lt;/button&gt;&#10;                &lt;/div&gt;&#10;                &lt;div class=&quot;control-buttons&quot;&gt;&#10;                    &lt;button class=&quot;btn btn-primary&quot; onclick=&quot;resetScores()&quot;&gt; Reset Scores&lt;/button&gt;&#10;                &lt;/div&gt;&#10;            &lt;/div&gt;&#10;&#10;            &lt;!-- Settings --&gt;&#10;            &lt;div class=&quot;panel&quot;&gt;&#10;                &lt;h2&gt;⚙️ Game Settings&lt;/h2&gt;&#10;                &lt;div class=&quot;settings-grid&quot;&gt;&#10;                    &lt;div class=&quot;form-group&quot;&gt;&#10;                        &lt;label&gt;Question Duration (seconds)&lt;/label&gt;&#10;                        &lt;input type=&quot;number&quot; id=&quot;questionDuration&quot; value=&quot;20&quot; min=&quot;5&quot; max=&quot;120&quot;&gt;&#10;                    &lt;/div&gt;&#10;                    &lt;div class=&quot;form-group&quot;&gt;&#10;                        &lt;label&gt;Pause Between Questions (seconds)&lt;/label&gt;&#10;                        &lt;input type=&quot;number&quot; id=&quot;pauseDuration&quot; value=&quot;5&quot; min=&quot;0&quot; max=&quot;30&quot;&gt;&#10;                    &lt;/div&gt;&#10;                    &lt;div class=&quot;form-group full-width&quot;&gt;&#10;                        &lt;label&gt;Points per Correct Answer&lt;/label&gt;&#10;                        &lt;input type=&quot;number&quot; id=&quot;pointsPerAnswer&quot; value=&quot;100&quot; min=&quot;10&quot; max=&quot;1000&quot; step=&quot;10&quot;&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;                &lt;button class=&quot;btn btn-primary&quot; style=&quot;width: 100%; margin-top: 15px;&quot; onclick=&quot;updateSettings()&quot;&gt; Save Settings&lt;/button&gt;&#10;            &lt;/div&gt;&#10;&#10;            &lt;!-- Add Question --&gt;&#10;            &lt;div class=&quot;panel&quot;&gt;&#10;                &lt;h2&gt;➕ Add New Question&lt;/h2&gt;&#10;                &lt;div class=&quot;form-group&quot;&gt;&#10;                    &lt;label&gt;Question&lt;/label&gt;&#10;                    &lt;textarea id=&quot;newQuestion&quot; placeholder=&quot;Enter your question...&quot;&gt;&lt;/textarea&gt;&#10;                &lt;/div&gt;&#10;                &lt;div class=&quot;form-group&quot;&gt;&#10;                    &lt;label&gt;Options&lt;/label&gt;&#10;                    &lt;div class=&quot;option-inputs&quot;&gt;&#10;                        &lt;input type=&quot;text&quot; id=&quot;option1&quot; placeholder=&quot;Option 1&quot;&gt;&#10;                        &lt;input type=&quot;text&quot; id=&quot;option2&quot; placeholder=&quot;Option 2&quot;&gt;&#10;                        &lt;input type=&quot;text&quot; id=&quot;option3&quot; placeholder=&quot;Option 3&quot;&gt;&#10;                        &lt;input type=&quot;text&quot; id=&quot;option4&quot; placeholder=&quot;Option 4&quot;&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;                &lt;div class=&quot;form-group&quot;&gt;&#10;                    &lt;label&gt;Correct Answer&lt;/label&gt;&#10;                    &lt;select id=&quot;correctAnswer&quot;&gt;&#10;                        &lt;option value=&quot;&quot;&gt;Select correct answer...&lt;/option&gt;&#10;                        &lt;option value=&quot;1&quot;&gt;Option 1&lt;/option&gt;&#10;                        &lt;option value=&quot;2&quot;&gt;Option 2&lt;/option&gt;&#10;                        &lt;option value=&quot;3&quot;&gt;Option 3&lt;/option&gt;&#10;                        &lt;option value=&quot;4&quot;&gt;Option 4&lt;/option&gt;&#10;                    &lt;/select&gt;&#10;                &lt;/div&gt;&#10;                &lt;button class=&quot;btn btn-success&quot; style=&quot;width: 100%;&quot; onclick=&quot;addQuestion()&quot;&gt;✅ Add Question&lt;/button&gt;&#10;            &lt;/div&gt;&#10;&#10;            &lt;!-- Connected Players --&gt;&#10;            &lt;div class=&quot;panel&quot;&gt;&#10;                &lt;h2&gt; Live Leaderboard&lt;/h2&gt;&#10;                &lt;div style=&quot;background: rgba(52, 152, 219, 0.2); padding: 15px; border-radius: 8px; margin-bottom: 15px; text-align: center;&quot;&gt;&#10;                    &lt;h3 style=&quot;margin: 0 0 5px 0; color: #3498db; font-size: 1.1em;&quot;&gt; Connected Players&lt;/h3&gt;&#10;                    &lt;div style=&quot;font-size: 2em; font-weight: bold; color: #2ecc71;&quot; id=&quot;playersCountDisplay&quot;&gt;0&lt;/div&gt;&#10;                    &lt;div style=&quot;font-size: 0.9em; color: #95a5a6; margin-top: 5px;&quot; id=&quot;playersNamesList&quot;&gt;No players yet&lt;/div&gt;&#10;                &lt;/div&gt;&#10;                &lt;div class=&quot;players-list&quot; id=&quot;playersList&quot;&gt;&#10;                    &lt;p style=&quot;text-align: center; color: #95a5a6;&quot;&gt;No players connected&lt;/p&gt;&#10;                &lt;/div&gt;&#10;            &lt;/div&gt;&#10;&#10;            &lt;!-- Questions List --&gt;&#10;            &lt;div class=&quot;panel full-width&quot;&gt;&#10;                &lt;h2&gt; Questions List&lt;/h2&gt;&#10;                &lt;div class=&quot;questions-list&quot; id=&quot;questionsList&quot;&gt;&#10;                    &lt;p style=&quot;text-align: center; color: #95a5a6;&quot;&gt;Loading questions...&lt;/p&gt;&#10;                &lt;/div&gt;&#10;            &lt;/div&gt;&#10;        &lt;/div&gt;&#10;    &lt;/div&gt;&#10;&#10;    &lt;script&gt;&#10;        let ws;&#10;        let questions = [];&#10;        let players = [];&#10;        let gameRunning = false;&#10;&#10;        // Connect to WebSocket&#10;        function connectToServer() {&#10;            ws = new WebSocket('ws://localhost:1234');&#10;&#10;            ws.onopen = function() {&#10;                console.log('Admin connected to server');&#10;                ws.send('__ADMIN__'); // Special admin identifier&#10;                showNotification('Connected to server');&#10;            };&#10;&#10;            ws.onmessage = function(event) {&#10;                try {&#10;                    const data = JSON.parse(event.data);&#10;                    handleMessage(data);&#10;                } catch (e) {&#10;                    console.log('Text message:', event.data);&#10;                }&#10;            };&#10;&#10;            ws.onclose = function() {&#10;                showNotification('Disconnected from server', true);&#10;                setTimeout(connectToServer, 3000); // Auto-reconnect&#10;            };&#10;&#10;            ws.onerror = function(error) {&#10;                console.error('WebSocket error:', error);&#10;            };&#10;        }&#10;&#10;        function handleMessage(data) {&#10;            switch(data.type) {&#10;                case 'adminData':&#10;                    updateDashboard(data);&#10;                    break;&#10;                case 'playerUpdate':&#10;                    updatePlayers(data.players);&#10;                    break;&#10;                case 'questionUpdate':&#10;                    questions = data.questions;&#10;                    displayQuestions();&#10;                    break;&#10;            }&#10;        }&#10;&#10;        function updateDashboard(data) {&#10;            if (data.players) updatePlayers(data.players);&#10;            if (data.questions) {&#10;                questions = data.questions;&#10;                displayQuestions();&#10;            }&#10;            if (data.currentQuestion !== undefined) {&#10;                document.getElementById('currentQuestion').textContent = data.currentQuestion + 1;&#10;            }&#10;&#10;            // Show/hide waiting for next question indicator&#10;            if (data.waitingForNext) {&#10;                showNotification('⏸️ Waiting for admin to start next question', false);&#10;            }&#10;        }&#10;&#10;        function updatePlayers(playerList) {&#10;            players = playerList;&#10;            document.getElementById('playersCount').textContent = players.length;&#10;&#10;            // Update the connected players display&#10;            document.getElementById('playersCountDisplay').textContent = players.length;&#10;&#10;            // Update player names list&#10;            const namesListElement = document.getElementById('playersNamesList');&#10;            if (players.length === 0) {&#10;                namesListElement.textContent = 'No players yet';&#10;            } else {&#10;                const playerNames = players.map(p =&gt; p.username).join(', ');&#10;                namesListElement.textContent = playerNames;&#10;            }&#10;&#10;            const container = document.getElementById('playersList');&#10;            if (players.length === 0) {&#10;                container.innerHTML = '&lt;p style=&quot;text-align: center; color: #95a5a6;&quot;&gt;No players connected&lt;/p&gt;';&#10;            } else {&#10;                // Sort players by score (descending), then by time (ascending)&#10;                const sortedPlayers = [...players].sort((a, b) =&gt; {&#10;                    // Compare by score first&#10;                    if (b.score !== a.score) {&#10;                        return b.score - a.score;&#10;                    }&#10;                    // If scores are equal, compare by time (lower is better)&#10;                    const timeA = a.totalTime || 0;&#10;                    const timeB = b.totalTime || 0;&#10;&#10;                    // Treat 0 as worst (no correct answers)&#10;                    if (timeA === 0 &amp;&amp; timeB === 0) return 0;&#10;                    if (timeA === 0) return 1;&#10;                    if (timeB === 0) return -1;&#10;&#10;                    return timeA - timeB;&#10;                });&#10;&#10;                container.innerHTML = sortedPlayers.map((player, index) =&gt; {&#10;                    const rank = index + 1;&#10;                    let medal = '';&#10;                    let rankClass = '';&#10;&#10;                    if (rank === 1) {&#10;                        medal = '';&#10;                        rankClass = 'rank-1';&#10;                    } else if (rank === 2) {&#10;                        medal = '';&#10;                        rankClass = 'rank-2';&#10;                    } else if (rank === 3) {&#10;                        medal = '';&#10;                        rankClass = 'rank-3';&#10;                    } else {&#10;                        medal = `${rank}.`;&#10;                    }&#10;&#10;                    // Format time&#10;                    const timeInSeconds = player.totalTime ? (player.totalTime / 1000).toFixed(1) : null;&#10;                    const timeDisplay = timeInSeconds ? `⏱️ ${timeInSeconds}s` : '';&#10;&#10;                    return `&#10;                        &lt;div class=&quot;player-item ${rankClass}&quot;&gt;&#10;                            &lt;span class=&quot;rank&quot;&gt;${medal}&lt;/span&gt;&#10;                            &lt;div class=&quot;player-info&quot;&gt;&#10;                                &lt;span class=&quot;name&quot;&gt;${player.username}&lt;/span&gt;&#10;                                ${timeDisplay ? `&lt;span class=&quot;time&quot;&gt;${timeDisplay}&lt;/span&gt;` : ''}&#10;                            &lt;/div&gt;&#10;                            &lt;span class=&quot;score&quot;&gt;${player.score} pts&lt;/span&gt;&#10;                        &lt;/div&gt;&#10;                    `;&#10;                }).join('');&#10;            }&#10;        }&#10;&#10;        function displayQuestions() {&#10;            document.getElementById('questionsCount').textContent = questions.length;&#10;&#10;            const container = document.getElementById('questionsList');&#10;            if (questions.length === 0) {&#10;                container.innerHTML = '&lt;p style=&quot;text-align: center; color: #95a5a6;&quot;&gt;No questions available&lt;/p&gt;';&#10;            } else {&#10;                container.innerHTML = questions.map((q, index) =&gt; `&#10;                    &lt;div class=&quot;question-item&quot;&gt;&#10;                        &lt;h4&gt;Question ${index + 1}: ${q.question}&lt;/h4&gt;&#10;                        &lt;div class=&quot;options&quot;&gt;&#10;                            ${q.options.map((opt, i) =&gt;&#10;                                `&lt;div&gt;${i + 1}. ${opt} ${opt === q.correctAnswer ? '&lt;span class=&quot;correct&quot;&gt;✓ Correct&lt;/span&gt;' : ''}&lt;/div&gt;`&#10;                            ).join('')}&#10;                        &lt;/div&gt;&#10;                        &lt;div class=&quot;actions&quot;&gt;&#10;                            &lt;button class=&quot;btn btn-danger&quot; onclick=&quot;deleteQuestion(${index})&quot;&gt;️ Delete&lt;/button&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                `).join('');&#10;            }&#10;        }&#10;&#10;        function addQuestion() {&#10;            const question = document.getElementById('newQuestion').value.trim();&#10;            const opt1 = document.getElementById('option1').value.trim();&#10;            const opt2 = document.getElementById('option2').value.trim();&#10;            const opt3 = document.getElementById('option3').value.trim();&#10;            const opt4 = document.getElementById('option4').value.trim();&#10;            const correctIdx = document.getElementById('correctAnswer').value;&#10;&#10;            if (!question || !opt1 || !opt2 || !opt3 || !opt4 || !correctIdx) {&#10;                showNotification('Please fill all fields!', true);&#10;                return;&#10;            }&#10;&#10;            const options = [opt1, opt2, opt3, opt4];&#10;            const correctAnswer = options[parseInt(correctIdx) - 1];&#10;&#10;            const newQuestion = {&#10;                question: question,&#10;                options: options,&#10;                correctAnswer: correctAnswer&#10;            };&#10;&#10;            sendCommand('addQuestion', newQuestion);&#10;&#10;            // Clear form&#10;            document.getElementById('newQuestion').value = '';&#10;            document.getElementById('option1').value = '';&#10;            document.getElementById('option2').value = '';&#10;            document.getElementById('option3').value = '';&#10;            document.getElementById('option4').value = '';&#10;            document.getElementById('correctAnswer').value = '';&#10;&#10;            showNotification('Question added successfully!');&#10;        }&#10;&#10;        function deleteQuestion(index) {&#10;            if (confirm('Are you sure you want to delete this question?')) {&#10;                sendCommand('deleteQuestion', { index: index });&#10;                showNotification('Question deleted!');&#10;            }&#10;        }&#10;&#10;        function startGame() {&#10;            sendCommand('startGame');&#10;            gameRunning = true;&#10;            updateGameStatus();&#10;            showNotification('Game started!');&#10;        }&#10;&#10;        function stopGame() {&#10;            sendCommand('stopGame');&#10;            gameRunning = false;&#10;            updateGameStatus();&#10;            showNotification('Game stopped!');&#10;        }&#10;&#10;        function skipQuestion() {&#10;            sendCommand('skipQuestion');&#10;            showNotification('Question skipped!');&#10;        }&#10;&#10;        function nextQuestion() {&#10;            sendCommand('nextQuestion');&#10;            showNotification('Starting next question...');&#10;        }&#10;&#10;        function resetScores() {&#10;            if (confirm('Are you sure you want to reset all player scores?')) {&#10;                sendCommand('resetScores');&#10;                showNotification('Scores reset!');&#10;            }&#10;        }&#10;&#10;        function updateSettings() {&#10;            const settings = {&#10;                questionDuration: parseInt(document.getElementById('questionDuration').value) * 1000,&#10;                pauseDuration: parseInt(document.getElementById('pauseDuration').value) * 1000,&#10;                pointsPerAnswer: parseInt(document.getElementById('pointsPerAnswer').value)&#10;            };&#10;&#10;            sendCommand('updateSettings', settings);&#10;            document.getElementById('currentTimer').textContent = (settings.questionDuration / 1000) + 's';&#10;            showNotification('Settings updated!');&#10;        }&#10;&#10;        function updateGameStatus() {&#10;            const statusEl = document.getElementById('gameStatus');&#10;            if (gameRunning) {&#10;                statusEl.textContent = 'Game Running';&#10;                statusEl.className = 'game-status running';&#10;            } else {&#10;                statusEl.textContent = 'Game Stopped';&#10;                statusEl.className = 'game-status stopped';&#10;            }&#10;        }&#10;&#10;        function sendCommand(command, data = {}) {&#10;            if (ws &amp;&amp; ws.readyState === WebSocket.OPEN) {&#10;                const message = {&#10;                    type: 'adminCommand',&#10;                    command: command,&#10;                    data: data&#10;                };&#10;                ws.send(JSON.stringify(message));&#10;            }&#10;        }&#10;&#10;        function showNotification(message, isError = false) {&#10;            const notification = document.createElement('div');&#10;            notification.className = 'notification' + (isError ? ' error' : '');&#10;            notification.textContent = message;&#10;            document.body.appendChild(notification);&#10;&#10;            setTimeout(() =&gt; {&#10;                notification.remove();&#10;            }, 3000);&#10;        }&#10;&#10;        // Load questions from file on startup&#10;        function loadQuestions() {&#10;            fetch('../questions.json')&#10;                .then(response =&gt; response.json())&#10;                .then(data =&gt; {&#10;                    questions = data;&#10;                    displayQuestions();&#10;                })&#10;                .catch(error =&gt; {&#10;                    console.error('Error loading questions:', error);&#10;                    showNotification('Error loading questions', true);&#10;                });&#10;        }&#10;&#10;        // Initialize&#10;        connectToServer();&#10;        loadQuestions();&#10;&#10;        // Refresh data every 2 seconds&#10;        setInterval(() =&gt; {&#10;            if (ws &amp;&amp; ws.readyState === WebSocket.OPEN) {&#10;                sendCommand('getStatus');&#10;            }&#10;        }, 2000);&#10;    &lt;/script&gt;&#10;&lt;/body&gt;&#10;&lt;/html&gt;&#10;&#10;" />
              <option name="updatedContent" value="&lt;!DOCTYPE html&gt;&#10;&lt;html lang=&quot;en&quot;&gt;&#10;&lt;head&gt;&#10;    &lt;meta charset=&quot;UTF-8&quot;&gt;&#10;    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;&#10;    &lt;title&gt;Quiz Game - Admin Panel&lt;/title&gt;&#10;    &lt;style&gt;&#10;        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&amp;display=swap');&#10;&#10;        * {&#10;            margin: 0;&#10;            padding: 0;&#10;            box-sizing: border-box;&#10;        }&#10;&#10;        body {&#10;            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;&#10;            background: linear-gradient(135deg, #1e293b 0%, #334155 100%);&#10;            background-attachment: fixed;&#10;            min-height: 100vh;&#10;            padding: 25px;&#10;            color: #f1f5f9;&#10;            position: relative;&#10;        }&#10;&#10;        body::before {&#10;            content: '';&#10;            position: fixed;&#10;            top: 0;&#10;            left: 0;&#10;            right: 0;&#10;            bottom: 0;&#10;            background: &#10;                radial-gradient(circle at 20% 30%, rgba(59, 130, 246, 0.15), transparent 50%),&#10;                radial-gradient(circle at 80% 70%, rgba(139, 92, 246, 0.15), transparent 50%);&#10;            pointer-events: none;&#10;            z-index: 0;&#10;        }&#10;&#10;        .admin-container {&#10;            max-width: 1600px;&#10;            margin: 0 auto;&#10;            position: relative;&#10;            z-index: 1;&#10;        }&#10;&#10;        .header {&#10;            text-align: center;&#10;            margin-bottom: 35px;&#10;            padding: 35px 30px;&#10;            background: rgba(255,255,255,0.08);&#10;            backdrop-filter: blur(20px);&#10;            border: 1px solid rgba(255, 255, 255, 0.15);&#10;            border-radius: 25px;&#10;            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);&#10;        }&#10;&#10;        .header h1 {&#10;            font-size: 2.8em;&#10;            font-weight: 800;&#10;            margin-bottom: 10px;&#10;            background: linear-gradient(135deg, #60a5fa 0%, #a78bfa 100%);&#10;            -webkit-background-clip: text;&#10;            -webkit-text-fill-color: transparent;&#10;            background-clip: text;&#10;            letter-spacing: -0.02em;&#10;        }&#10;&#10;        .header p {&#10;            font-size: 1.1em;&#10;            color: #cbd5e1;&#10;            font-weight: 500;&#10;        }&#10;&#10;        .status-bar {&#10;            display: grid;&#10;            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));&#10;            margin-bottom: 35px;&#10;            gap: 20px;&#10;        }&#10;&#10;        .status-card {&#10;            background: rgba(255,255,255,0.08);&#10;            backdrop-filter: blur(20px);&#10;            border: 1px solid rgba(255, 255, 255, 0.15);&#10;            padding: 28px 24px;&#10;            border-radius: 20px;&#10;            text-align: center;&#10;            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);&#10;            transition: all 0.3s ease;&#10;        }&#10;&#10;        .status-card:hover {&#10;            transform: translateY(-5px);&#10;            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.25);&#10;            background: rgba(255,255,255,0.12);&#10;        }&#10;&#10;        .status-card h3 {&#10;            font-size: 0.9em;&#10;            color: #94a3b8;&#10;            margin-bottom: 12px;&#10;            text-transform: uppercase;&#10;            letter-spacing: 0.5px;&#10;            font-weight: 600;&#10;        }&#10;&#10;        .status-card .value {&#10;            font-size: 2.5em;&#10;            font-weight: 800;&#10;            color: #60a5fa;&#10;            text-shadow: 0 2px 10px rgba(96, 165, 250, 0.3);&#10;        }&#10;&#10;        .status-card.online .value { &#10;            color: #34d399;&#10;            text-shadow: 0 2px 10px rgba(52, 211, 153, 0.3);&#10;        }&#10;        .status-card.questions .value { &#10;            color: #fbbf24;&#10;            text-shadow: 0 2px 10px rgba(251, 191, 36, 0.3);&#10;        }&#10;        .status-card.timer .value { &#10;            color: #f87171;&#10;            text-shadow: 0 2px 10px rgba(248, 113, 113, 0.3);&#10;        }&#10;&#10;        .main-content {&#10;            display: grid;&#10;            grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));&#10;            gap: 25px;&#10;            margin-bottom: 25px;&#10;        }&#10;&#10;        .panel {&#10;            background: rgba(255,255,255,0.08);&#10;            backdrop-filter: blur(20px);&#10;            border: 1px solid rgba(255, 255, 255, 0.15);&#10;            padding: 30px;&#10;            border-radius: 20px;&#10;            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);&#10;            transition: all 0.3s ease;&#10;        }&#10;&#10;        .panel:hover {&#10;            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);&#10;        }&#10;&#10;        .panel h2 {&#10;            margin-bottom: 25px;&#10;            color: #60a5fa;&#10;            border-bottom: 2px solid rgba(96, 165, 250, 0.3);&#10;            padding-bottom: 15px;&#10;            font-size: 1.4em;&#10;            font-weight: 700;&#10;        }&#10;&#10;        .form-group {&#10;            margin-bottom: 22px;&#10;        }&#10;&#10;        .form-group label {&#10;            display: block;&#10;            margin-bottom: 10px;&#10;            font-weight: 600;&#10;            color: #e2e8f0;&#10;            font-size: 0.95em;&#10;        }&#10;&#10;        .form-group input,&#10;        .form-group textarea,&#10;        .form-group select {&#10;            width: 100%;&#10;            padding: 14px 16px;&#10;            border: 2px solid rgba(255,255,255,0.15);&#10;            border-radius: 12px;&#10;            background: rgba(255,255,255,0.08);&#10;            color: white;&#10;            font-size: 1em;&#10;            font-family: 'Inter', sans-serif;&#10;            transition: all 0.3s ease;&#10;        }&#10;&#10;        .form-group input::placeholder,&#10;        .form-group textarea::placeholder {&#10;            color: #94a3b8;&#10;        }&#10;&#10;        .form-group input:focus,&#10;        .form-group textarea:focus,&#10;        .form-group select:focus {&#10;            outline: none;&#10;            border-color: #60a5fa;&#10;            background: rgba(255,255,255,0.12);&#10;            box-shadow: 0 0 0 4px rgba(96, 165, 250, 0.1);&#10;            transform: translateY(-2px);&#10;        }&#10;&#10;        .form-group textarea {&#10;            resize: vertical;&#10;            min-height: 70px;&#10;            line-height: 1.5;&#10;        }&#10;&#10;        .form-group select {&#10;            cursor: pointer;&#10;        }&#10;&#10;        .option-inputs {&#10;            display: grid;&#10;            grid-template-columns: 1fr 1fr;&#10;            gap: 10px;&#10;        }&#10;&#10;        .btn {&#10;            padding: 14px 28px;&#10;            border: none;&#10;            border-radius: 12px;&#10;            font-size: 0.95em;&#10;            font-weight: 600;&#10;            cursor: pointer;&#10;            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);&#10;            text-transform: uppercase;&#10;            letter-spacing: 0.5px;&#10;            font-family: 'Inter', sans-serif;&#10;            position: relative;&#10;            overflow: hidden;&#10;        }&#10;&#10;        .btn::before {&#10;            content: '';&#10;            position: absolute;&#10;            top: 0;&#10;            left: -100%;&#10;            width: 100%;&#10;            height: 100%;&#10;            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);&#10;            transition: left 0.5s;&#10;        }&#10;&#10;        .btn:hover::before {&#10;            left: 100%;&#10;        }&#10;&#10;        .btn-primary {&#10;            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);&#10;            color: white;&#10;            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);&#10;        }&#10;&#10;        .btn-primary:hover {&#10;            transform: translateY(-3px);&#10;            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.4);&#10;        }&#10;&#10;        .btn-success {&#10;            background: linear-gradient(135deg, #10b981 0%, #059669 100%);&#10;            color: white;&#10;            box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3);&#10;        }&#10;&#10;        .btn-success:hover {&#10;            transform: translateY(-3px);&#10;            box-shadow: 0 8px 25px rgba(16, 185, 129, 0.4);&#10;        }&#10;&#10;        .btn-danger {&#10;            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);&#10;            color: white;&#10;            box-shadow: 0 4px 15px rgba(239, 68, 68, 0.3);&#10;        }&#10;&#10;        .btn-danger:hover {&#10;            transform: translateY(-3px);&#10;            box-shadow: 0 8px 25px rgba(239, 68, 68, 0.4);&#10;        }&#10;&#10;        .btn-warning {&#10;            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);&#10;            color: white;&#10;            box-shadow: 0 4px 15px rgba(245, 158, 11, 0.3);&#10;        }&#10;&#10;        .btn-warning:hover {&#10;            transform: translateY(-3px);&#10;            box-shadow: 0 8px 25px rgba(245, 158, 11, 0.4);&#10;        }&#10;&#10;        .btn-info {&#10;            background: linear-gradient(135deg, #06b6d4 0%, #0891b2 100%);&#10;            color: white;&#10;            box-shadow: 0 4px 15px rgba(6, 182, 212, 0.3);&#10;        }&#10;&#10;        .btn-info:hover {&#10;            transform: translateY(-3px);&#10;            box-shadow: 0 8px 25px rgba(6, 182, 212, 0.4);&#10;        }&#10;&#10;        .btn:active {&#10;            transform: translateY(-1px);&#10;        }&#10;&#10;        .control-buttons {&#10;            display: flex;&#10;            gap: 10px;&#10;            margin-top: 20px;&#10;        }&#10;&#10;        .control-buttons .btn {&#10;            flex: 1;&#10;        }&#10;&#10;        .questions-list {&#10;            max-height: 500px;&#10;            overflow-y: auto;&#10;            margin-top: 20px;&#10;        }&#10;&#10;        .question-item {&#10;            background: rgba(0,0,0,0.25);&#10;            backdrop-filter: blur(10px);&#10;            padding: 20px;&#10;            border-radius: 16px;&#10;            margin-bottom: 18px;&#10;            border-left: 5px solid #60a5fa;&#10;            transition: all 0.3s ease;&#10;            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);&#10;        }&#10;&#10;        .question-item:hover {&#10;            transform: translateX(5px);&#10;            background: rgba(0,0,0,0.3);&#10;            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);&#10;        }&#10;&#10;        .question-item h4 {&#10;            color: #60a5fa;&#10;            margin-bottom: 12px;&#10;            font-size: 1.1em;&#10;            font-weight: 600;&#10;        }&#10;&#10;        .question-item .options {&#10;            margin: 12px 0;&#10;            font-size: 0.95em;&#10;            line-height: 1.6;&#10;            color: #cbd5e1;&#10;        }&#10;&#10;        .question-item .correct {&#10;            color: #34d399;&#10;            font-weight: 600;&#10;        }&#10;&#10;        .question-item .actions {&#10;            display: flex;&#10;            gap: 10px;&#10;            margin-top: 15px;&#10;        }&#10;&#10;        .question-item .actions button {&#10;            padding: 10px 18px;&#10;            font-size: 0.85em;&#10;        }&#10;&#10;        .players-list {&#10;            max-height: 400px;&#10;            overflow-y: auto;&#10;            padding-right: 5px;&#10;        }&#10;&#10;        .player-item {&#10;            background: rgba(0,0,0,0.25);&#10;            backdrop-filter: blur(10px);&#10;            padding: 18px 20px;&#10;            border-radius: 16px;&#10;            margin-bottom: 14px;&#10;            display: flex;&#10;            justify-content: space-between;&#10;            align-items: center;&#10;            transition: all 0.3s ease;&#10;            border: 1px solid rgba(255, 255, 255, 0.1);&#10;            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);&#10;        }&#10;&#10;        .player-item:hover {&#10;            background: rgba(0,0,0,0.35);&#10;            transform: translateX(8px);&#10;            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);&#10;        }&#10;&#10;        .player-item.rank-1 {&#10;            background: linear-gradient(135deg, rgba(255, 215, 0, 0.25) 0%, rgba(255, 215, 0, 0.08) 100%);&#10;            border: 2px solid rgba(255, 215, 0, 0.6);&#10;            box-shadow: 0 4px 20px rgba(255, 215, 0, 0.2);&#10;        }&#10;&#10;        .player-item.rank-2 {&#10;            background: linear-gradient(135deg, rgba(192, 192, 192, 0.25) 0%, rgba(192, 192, 192, 0.08) 100%);&#10;            border: 2px solid rgba(192, 192, 192, 0.6);&#10;            box-shadow: 0 4px 20px rgba(192, 192, 192, 0.2);&#10;        }&#10;&#10;        .player-item.rank-3 {&#10;            background: linear-gradient(135deg, rgba(205, 127, 50, 0.25) 0%, rgba(205, 127, 50, 0.08) 100%);&#10;            border: 2px solid rgba(205, 127, 50, 0.6);&#10;            box-shadow: 0 4px 20px rgba(205, 127, 50, 0.2);&#10;        }&#10;&#10;        .player-item .rank {&#10;            font-size: 1.4em;&#10;            font-weight: 800;&#10;            margin-right: 15px;&#10;            min-width: 40px;&#10;        }&#10;&#10;        .player-item .player-info {&#10;            flex: 1;&#10;            display: flex;&#10;            flex-direction: column;&#10;        }&#10;&#10;        .player-item .name {&#10;            font-weight: 700;&#10;            color: #60a5fa;&#10;            font-size: 1.15em;&#10;        }&#10;&#10;        .player-item .time {&#10;            font-size: 0.85em;&#10;            color: #94a3b8;&#10;            margin-top: 4px;&#10;        }&#10;&#10;        .player-item .score {&#10;            color: #34d399;&#10;            font-weight: 800;&#10;            font-size: 1.3em;&#10;            text-shadow: 0 2px 10px rgba(52, 211, 153, 0.3);&#10;        }&#10;&#10;        .settings-grid {&#10;            display: grid;&#10;            grid-template-columns: 1fr 1fr;&#10;            gap: 18px;&#10;        }&#10;&#10;        .notification {&#10;            position: fixed;&#10;            top: 30px;&#10;            right: 30px;&#10;            padding: 18px 28px;&#10;            background: rgba(16, 185, 129, 0.98);&#10;            backdrop-filter: blur(10px);&#10;            color: white;&#10;            border-radius: 16px;&#10;            box-shadow: 0 8px 30px rgba(0,0,0,0.3);&#10;            animation: slideInNotif 0.4s cubic-bezier(0.4, 0, 0.2, 1);&#10;            z-index: 1000;&#10;            font-weight: 600;&#10;            border-left: 5px solid #10b981;&#10;        }&#10;&#10;        .notification.error {&#10;            background: rgba(239, 68, 68, 0.98);&#10;            border-left-color: #ef4444;&#10;        }&#10;&#10;        @keyframes slideInNotif {&#10;            from {&#10;                transform: translateX(450px);&#10;                opacity: 0;&#10;            }&#10;            to {&#10;                transform: translateX(0);&#10;                opacity: 1;&#10;            }&#10;        }&#10;&#10;        .full-width {&#10;            grid-column: 1 / -1;&#10;        }&#10;&#10;        ::-webkit-scrollbar {&#10;            width: 10px;&#10;        }&#10;&#10;        ::-webkit-scrollbar-track {&#10;            background: rgba(0,0,0,0.2);&#10;            border-radius: 10px;&#10;        }&#10;&#10;        ::-webkit-scrollbar-thumb {&#10;            background: rgba(96, 165, 250, 0.5);&#10;            border-radius: 10px;&#10;        }&#10;&#10;        ::-webkit-scrollbar-thumb:hover {&#10;            background: rgba(96, 165, 250, 0.8);&#10;        }&#10;&#10;        .game-status {&#10;            display: inline-block;&#10;            padding: 8px 20px;&#10;            border-radius: 25px;&#10;            font-size: 0.95em;&#10;            font-weight: 700;&#10;            text-transform: uppercase;&#10;            letter-spacing: 0.5px;&#10;            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);&#10;        }&#10;&#10;        .game-status.running {&#10;            background: linear-gradient(135deg, #10b981 0%, #059669 100%);&#10;            color: white;&#10;            animation: statusPulse 2s ease-in-out infinite;&#10;        }&#10;&#10;        .game-status.stopped {&#10;            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);&#10;            color: white;&#10;        }&#10;&#10;        .game-status.paused {&#10;            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);&#10;            color: white;&#10;        }&#10;&#10;        @keyframes statusPulse {&#10;            0%, 100% { box-shadow: 0 4px 15px rgba(16, 185, 129, 0.4); }&#10;            50% { box-shadow: 0 4px 25px rgba(16, 185, 129, 0.6); }&#10;        }&#10;&#10;        @media (max-width: 1024px) {&#10;            .main-content {&#10;                grid-template-columns: 1fr;&#10;            }&#10;&#10;            .settings-grid {&#10;                grid-template-columns: 1fr;&#10;            }&#10;        }&#10;    &lt;/style&gt;&#10;&lt;/head&gt;&#10;&lt;body&gt;&#10;    &lt;div class=&quot;admin-container&quot;&gt;&#10;        &lt;div class=&quot;header&quot;&gt;&#10;            &lt;h1&gt; Quiz Game Admin Panel&lt;/h1&gt;&#10;            &lt;p&gt;Manage your quiz game in real-time&lt;/p&gt;&#10;            &lt;div style=&quot;margin-top: 10px;&quot;&gt;&#10;                &lt;span class=&quot;game-status stopped&quot; id=&quot;gameStatus&quot;&gt;Game Stopped&lt;/span&gt;&#10;            &lt;/div&gt;&#10;        &lt;/div&gt;&#10;&#10;        &lt;div class=&quot;status-bar&quot;&gt;&#10;            &lt;div class=&quot;status-card online&quot;&gt;&#10;                &lt;h3&gt;Players Online&lt;/h3&gt;&#10;                &lt;div class=&quot;value&quot; id=&quot;playersCount&quot;&gt;0&lt;/div&gt;&#10;            &lt;/div&gt;&#10;            &lt;div class=&quot;status-card questions&quot;&gt;&#10;                &lt;h3&gt;Total Questions&lt;/h3&gt;&#10;                &lt;div class=&quot;value&quot; id=&quot;questionsCount&quot;&gt;0&lt;/div&gt;&#10;            &lt;/div&gt;&#10;            &lt;div class=&quot;status-card timer&quot;&gt;&#10;                &lt;h3&gt;Question Timer&lt;/h3&gt;&#10;                &lt;div class=&quot;value&quot; id=&quot;currentTimer&quot;&gt;20s&lt;/div&gt;&#10;            &lt;/div&gt;&#10;            &lt;div class=&quot;status-card&quot;&gt;&#10;                &lt;h3&gt;Current Question&lt;/h3&gt;&#10;                &lt;div class=&quot;value&quot; id=&quot;currentQuestion&quot;&gt;-&lt;/div&gt;&#10;            &lt;/div&gt;&#10;        &lt;/div&gt;&#10;&#10;        &lt;div class=&quot;main-content&quot;&gt;&#10;            &lt;!-- Game Controls --&gt;&#10;            &lt;div class=&quot;panel&quot;&gt;&#10;                &lt;h2&gt; Game Controls&lt;/h2&gt;&#10;                &lt;div class=&quot;control-buttons&quot;&gt;&#10;                    &lt;button class=&quot;btn btn-success&quot; onclick=&quot;startGame()&quot;&gt;▶️ Start Game&lt;/button&gt;&#10;                    &lt;button class=&quot;btn btn-danger&quot; onclick=&quot;stopGame()&quot;&gt;⏹️ Stop Game&lt;/button&gt;&#10;                &lt;/div&gt;&#10;                &lt;div class=&quot;control-buttons&quot;&gt;&#10;                    &lt;button class=&quot;btn btn-info&quot; onclick=&quot;nextQuestion()&quot;&gt;▶️ Next Question&lt;/button&gt;&#10;                    &lt;button class=&quot;btn btn-warning&quot; onclick=&quot;skipQuestion()&quot;&gt;⏭️ Skip Question&lt;/button&gt;&#10;                &lt;/div&gt;&#10;                &lt;div class=&quot;control-buttons&quot;&gt;&#10;                    &lt;button class=&quot;btn btn-primary&quot; onclick=&quot;resetScores()&quot;&gt; Reset Scores&lt;/button&gt;&#10;                &lt;/div&gt;&#10;            &lt;/div&gt;&#10;&#10;            &lt;!-- Settings --&gt;&#10;            &lt;div class=&quot;panel&quot;&gt;&#10;                &lt;h2&gt;⚙️ Game Settings&lt;/h2&gt;&#10;                &lt;div class=&quot;settings-grid&quot;&gt;&#10;                    &lt;div class=&quot;form-group&quot;&gt;&#10;                        &lt;label&gt;Question Duration (seconds)&lt;/label&gt;&#10;                        &lt;input type=&quot;number&quot; id=&quot;questionDuration&quot; value=&quot;20&quot; min=&quot;5&quot; max=&quot;120&quot;&gt;&#10;                    &lt;/div&gt;&#10;                    &lt;div class=&quot;form-group&quot;&gt;&#10;                        &lt;label&gt;Pause Between Questions (seconds)&lt;/label&gt;&#10;                        &lt;input type=&quot;number&quot; id=&quot;pauseDuration&quot; value=&quot;5&quot; min=&quot;0&quot; max=&quot;30&quot;&gt;&#10;                    &lt;/div&gt;&#10;                    &lt;div class=&quot;form-group full-width&quot;&gt;&#10;                        &lt;label&gt;Points per Correct Answer&lt;/label&gt;&#10;                        &lt;input type=&quot;number&quot; id=&quot;pointsPerAnswer&quot; value=&quot;100&quot; min=&quot;10&quot; max=&quot;1000&quot; step=&quot;10&quot;&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;                &lt;button class=&quot;btn btn-primary&quot; style=&quot;width: 100%; margin-top: 15px;&quot; onclick=&quot;updateSettings()&quot;&gt; Save Settings&lt;/button&gt;&#10;            &lt;/div&gt;&#10;&#10;            &lt;!-- Add Question --&gt;&#10;            &lt;div class=&quot;panel&quot;&gt;&#10;                &lt;h2&gt;➕ Add New Question&lt;/h2&gt;&#10;                &lt;div class=&quot;form-group&quot;&gt;&#10;                    &lt;label&gt;Question&lt;/label&gt;&#10;                    &lt;textarea id=&quot;newQuestion&quot; placeholder=&quot;Enter your question...&quot;&gt;&lt;/textarea&gt;&#10;                &lt;/div&gt;&#10;                &lt;div class=&quot;form-group&quot;&gt;&#10;                    &lt;label&gt;Options&lt;/label&gt;&#10;                    &lt;div class=&quot;option-inputs&quot;&gt;&#10;                        &lt;input type=&quot;text&quot; id=&quot;option1&quot; placeholder=&quot;Option 1&quot;&gt;&#10;                        &lt;input type=&quot;text&quot; id=&quot;option2&quot; placeholder=&quot;Option 2&quot;&gt;&#10;                        &lt;input type=&quot;text&quot; id=&quot;option3&quot; placeholder=&quot;Option 3&quot;&gt;&#10;                        &lt;input type=&quot;text&quot; id=&quot;option4&quot; placeholder=&quot;Option 4&quot;&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;                &lt;div class=&quot;form-group&quot;&gt;&#10;                    &lt;label&gt;Correct Answer&lt;/label&gt;&#10;                    &lt;select id=&quot;correctAnswer&quot;&gt;&#10;                        &lt;option value=&quot;&quot;&gt;Select correct answer...&lt;/option&gt;&#10;                        &lt;option value=&quot;1&quot;&gt;Option 1&lt;/option&gt;&#10;                        &lt;option value=&quot;2&quot;&gt;Option 2&lt;/option&gt;&#10;                        &lt;option value=&quot;3&quot;&gt;Option 3&lt;/option&gt;&#10;                        &lt;option value=&quot;4&quot;&gt;Option 4&lt;/option&gt;&#10;                    &lt;/select&gt;&#10;                &lt;/div&gt;&#10;                &lt;button class=&quot;btn btn-success&quot; style=&quot;width: 100%;&quot; onclick=&quot;addQuestion()&quot;&gt;✅ Add Question&lt;/button&gt;&#10;            &lt;/div&gt;&#10;&#10;            &lt;!-- Connected Players --&gt;&#10;            &lt;div class=&quot;panel&quot;&gt;&#10;                &lt;h2&gt; Live Leaderboard&lt;/h2&gt;&#10;                &lt;div style=&quot;background: rgba(52, 152, 219, 0.2); padding: 15px; border-radius: 8px; margin-bottom: 15px; text-align: center;&quot;&gt;&#10;                    &lt;h3 style=&quot;margin: 0 0 5px 0; color: #3498db; font-size: 1.1em;&quot;&gt; Connected Players&lt;/h3&gt;&#10;                    &lt;div style=&quot;font-size: 2em; font-weight: bold; color: #2ecc71;&quot; id=&quot;playersCountDisplay&quot;&gt;0&lt;/div&gt;&#10;                    &lt;div style=&quot;font-size: 0.9em; color: #95a5a6; margin-top: 5px;&quot; id=&quot;playersNamesList&quot;&gt;No players yet&lt;/div&gt;&#10;                &lt;/div&gt;&#10;                &lt;div class=&quot;players-list&quot; id=&quot;playersList&quot;&gt;&#10;                    &lt;p style=&quot;text-align: center; color: #95a5a6;&quot;&gt;No players connected&lt;/p&gt;&#10;                &lt;/div&gt;&#10;            &lt;/div&gt;&#10;&#10;            &lt;!-- Questions List --&gt;&#10;            &lt;div class=&quot;panel full-width&quot;&gt;&#10;                &lt;h2&gt; Questions List&lt;/h2&gt;&#10;                &lt;div class=&quot;questions-list&quot; id=&quot;questionsList&quot;&gt;&#10;                    &lt;p style=&quot;text-align: center; color: #95a5a6;&quot;&gt;Loading questions...&lt;/p&gt;&#10;                &lt;/div&gt;&#10;            &lt;/div&gt;&#10;        &lt;/div&gt;&#10;    &lt;/div&gt;&#10;&#10;    &lt;script&gt;&#10;        let ws;&#10;        let questions = [];&#10;        let players = [];&#10;        let gameRunning = false;&#10;&#10;        // Connect to WebSocket&#10;        function connectToServer() {&#10;            ws = new WebSocket('ws://localhost:1234');&#10;&#10;            ws.onopen = function() {&#10;                console.log('Admin connected to server');&#10;                ws.send('__ADMIN__'); // Special admin identifier&#10;                showNotification('Connected to server');&#10;            };&#10;&#10;            ws.onmessage = function(event) {&#10;                try {&#10;                    const data = JSON.parse(event.data);&#10;                    handleMessage(data);&#10;                } catch (e) {&#10;                    console.log('Text message:', event.data);&#10;                }&#10;            };&#10;&#10;            ws.onclose = function() {&#10;                showNotification('Disconnected from server', true);&#10;                setTimeout(connectToServer, 3000); // Auto-reconnect&#10;            };&#10;&#10;            ws.onerror = function(error) {&#10;                console.error('WebSocket error:', error);&#10;            };&#10;        }&#10;&#10;        function handleMessage(data) {&#10;            switch(data.type) {&#10;                case 'adminData':&#10;                    updateDashboard(data);&#10;                    break;&#10;                case 'playerUpdate':&#10;                    updatePlayers(data.players);&#10;                    break;&#10;                case 'questionUpdate':&#10;                    questions = data.questions;&#10;                    displayQuestions();&#10;                    break;&#10;            }&#10;        }&#10;&#10;        function updateDashboard(data) {&#10;            if (data.players) updatePlayers(data.players);&#10;            if (data.questions) {&#10;                questions = data.questions;&#10;                displayQuestions();&#10;            }&#10;            if (data.currentQuestion !== undefined) {&#10;                document.getElementById('currentQuestion').textContent = data.currentQuestion + 1;&#10;            }&#10;&#10;            // Show/hide waiting for next question indicator&#10;            if (data.waitingForNext) {&#10;                showNotification('⏸️ Waiting for admin to start next question', false);&#10;            }&#10;        }&#10;&#10;        function updatePlayers(playerList) {&#10;            players = playerList;&#10;            document.getElementById('playersCount').textContent = players.length;&#10;&#10;            // Update the connected players display&#10;            document.getElementById('playersCountDisplay').textContent = players.length;&#10;&#10;            // Update player names list&#10;            const namesListElement = document.getElementById('playersNamesList');&#10;            if (players.length === 0) {&#10;                namesListElement.textContent = 'No players yet';&#10;            } else {&#10;                const playerNames = players.map(p =&gt; p.username).join(', ');&#10;                namesListElement.textContent = playerNames;&#10;            }&#10;&#10;            const container = document.getElementById('playersList');&#10;            if (players.length === 0) {&#10;                container.innerHTML = '&lt;p style=&quot;text-align: center; color: #95a5a6;&quot;&gt;No players connected&lt;/p&gt;';&#10;            } else {&#10;                // Sort players by score (descending), then by time (ascending)&#10;                const sortedPlayers = [...players].sort((a, b) =&gt; {&#10;                    // Compare by score first&#10;                    if (b.score !== a.score) {&#10;                        return b.score - a.score;&#10;                    }&#10;                    // If scores are equal, compare by time (lower is better)&#10;                    const timeA = a.totalTime || 0;&#10;                    const timeB = b.totalTime || 0;&#10;&#10;                    // Treat 0 as worst (no correct answers)&#10;                    if (timeA === 0 &amp;&amp; timeB === 0) return 0;&#10;                    if (timeA === 0) return 1;&#10;                    if (timeB === 0) return -1;&#10;&#10;                    return timeA - timeB;&#10;                });&#10;&#10;                container.innerHTML = sortedPlayers.map((player, index) =&gt; {&#10;                    const rank = index + 1;&#10;                    let medal = '';&#10;                    let rankClass = '';&#10;&#10;                    if (rank === 1) {&#10;                        medal = '';&#10;                        rankClass = 'rank-1';&#10;                    } else if (rank === 2) {&#10;                        medal = '';&#10;                        rankClass = 'rank-2';&#10;                    } else if (rank === 3) {&#10;                        medal = '';&#10;                        rankClass = 'rank-3';&#10;                    } else {&#10;                        medal = `${rank}.`;&#10;                    }&#10;&#10;                    // Format time&#10;                    const timeInSeconds = player.totalTime ? (player.totalTime / 1000).toFixed(1) : null;&#10;                    const timeDisplay = timeInSeconds ? `⏱️ ${timeInSeconds}s` : '';&#10;&#10;                    return `&#10;                        &lt;div class=&quot;player-item ${rankClass}&quot;&gt;&#10;                            &lt;span class=&quot;rank&quot;&gt;${medal}&lt;/span&gt;&#10;                            &lt;div class=&quot;player-info&quot;&gt;&#10;                                &lt;span class=&quot;name&quot;&gt;${player.username}&lt;/span&gt;&#10;                                ${timeDisplay ? `&lt;span class=&quot;time&quot;&gt;${timeDisplay}&lt;/span&gt;` : ''}&#10;                            &lt;/div&gt;&#10;                            &lt;span class=&quot;score&quot;&gt;${player.score} pts&lt;/span&gt;&#10;                        &lt;/div&gt;&#10;                    `;&#10;                }).join('');&#10;            }&#10;        }&#10;&#10;        function displayQuestions() {&#10;            document.getElementById('questionsCount').textContent = questions.length;&#10;&#10;            const container = document.getElementById('questionsList');&#10;            if (questions.length === 0) {&#10;                container.innerHTML = '&lt;p style=&quot;text-align: center; color: #95a5a6;&quot;&gt;No questions available&lt;/p&gt;';&#10;            } else {&#10;                container.innerHTML = questions.map((q, index) =&gt; `&#10;                    &lt;div class=&quot;question-item&quot;&gt;&#10;                        &lt;h4&gt;Question ${index + 1}: ${q.question}&lt;/h4&gt;&#10;                        &lt;div class=&quot;options&quot;&gt;&#10;                            ${q.options.map((opt, i) =&gt;&#10;                                `&lt;div&gt;${i + 1}. ${opt} ${opt === q.correctAnswer ? '&lt;span class=&quot;correct&quot;&gt;✓ Correct&lt;/span&gt;' : ''}&lt;/div&gt;`&#10;                            ).join('')}&#10;                        &lt;/div&gt;&#10;                        &lt;div class=&quot;actions&quot;&gt;&#10;                            &lt;button class=&quot;btn btn-danger&quot; onclick=&quot;deleteQuestion(${index})&quot;&gt;️ Delete&lt;/button&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                `).join('');&#10;            }&#10;        }&#10;&#10;        function addQuestion() {&#10;            const question = document.getElementById('newQuestion').value.trim();&#10;            const opt1 = document.getElementById('option1').value.trim();&#10;            const opt2 = document.getElementById('option2').value.trim();&#10;            const opt3 = document.getElementById('option3').value.trim();&#10;            const opt4 = document.getElementById('option4').value.trim();&#10;            const correctIdx = document.getElementById('correctAnswer').value;&#10;&#10;            if (!question || !opt1 || !opt2 || !opt3 || !opt4 || !correctIdx) {&#10;                showNotification('Please fill all fields!', true);&#10;                return;&#10;            }&#10;&#10;            const options = [opt1, opt2, opt3, opt4];&#10;            const correctAnswer = options[parseInt(correctIdx) - 1];&#10;&#10;            const newQuestion = {&#10;                question: question,&#10;                options: options,&#10;                correctAnswer: correctAnswer&#10;            };&#10;&#10;            sendCommand('addQuestion', newQuestion);&#10;&#10;            // Clear form&#10;            document.getElementById('newQuestion').value = '';&#10;            document.getElementById('option1').value = '';&#10;            document.getElementById('option2').value = '';&#10;            document.getElementById('option3').value = '';&#10;            document.getElementById('option4').value = '';&#10;            document.getElementById('correctAnswer').value = '';&#10;&#10;            showNotification('Question added successfully!');&#10;        }&#10;&#10;        function deleteQuestion(index) {&#10;            if (confirm('Are you sure you want to delete this question?')) {&#10;                sendCommand('deleteQuestion', { index: index });&#10;                showNotification('Question deleted!');&#10;            }&#10;        }&#10;&#10;        function startGame() {&#10;            sendCommand('startGame');&#10;            gameRunning = true;&#10;            updateGameStatus();&#10;            showNotification('Game started!');&#10;        }&#10;&#10;        function stopGame() {&#10;            sendCommand('stopGame');&#10;            gameRunning = false;&#10;            updateGameStatus();&#10;            showNotification('Game stopped!');&#10;        }&#10;&#10;        function skipQuestion() {&#10;            sendCommand('skipQuestion');&#10;            showNotification('Question skipped!');&#10;        }&#10;&#10;        function nextQuestion() {&#10;            sendCommand('nextQuestion');&#10;            showNotification('Starting next question...');&#10;        }&#10;&#10;        function resetScores() {&#10;            if (confirm('Are you sure you want to reset all player scores?')) {&#10;                sendCommand('resetScores');&#10;                showNotification('Scores reset!');&#10;            }&#10;        }&#10;&#10;        function updateSettings() {&#10;            const settings = {&#10;                questionDuration: parseInt(document.getElementById('questionDuration').value) * 1000,&#10;                pauseDuration: parseInt(document.getElementById('pauseDuration').value) * 1000,&#10;                pointsPerAnswer: parseInt(document.getElementById('pointsPerAnswer').value)&#10;            };&#10;&#10;            sendCommand('updateSettings', settings);&#10;            document.getElementById('currentTimer').textContent = (settings.questionDuration / 1000) + 's';&#10;            showNotification('Settings updated!');&#10;        }&#10;&#10;        function updateGameStatus() {&#10;            const statusEl = document.getElementById('gameStatus');&#10;            if (gameRunning) {&#10;                statusEl.textContent = 'Game Running';&#10;                statusEl.className = 'game-status running';&#10;            } else {&#10;                statusEl.textContent = 'Game Stopped';&#10;                statusEl.className = 'game-status stopped';&#10;            }&#10;        }&#10;&#10;        function sendCommand(command, data = {}) {&#10;            if (ws &amp;&amp; ws.readyState === WebSocket.OPEN) {&#10;                const message = {&#10;                    type: 'adminCommand',&#10;                    command: command,&#10;                    data: data&#10;                };&#10;                ws.send(JSON.stringify(message));&#10;            }&#10;        }&#10;&#10;        function showNotification(message, isError = false) {&#10;            const notification = document.createElement('div');&#10;            notification.className = 'notification' + (isError ? ' error' : '');&#10;            notification.textContent = message;&#10;            document.body.appendChild(notification);&#10;&#10;            setTimeout(() =&gt; {&#10;                notification.remove();&#10;            }, 3000);&#10;        }&#10;&#10;        // Load questions from file on startup&#10;        function loadQuestions() {&#10;            fetch('../questions.json')&#10;                .then(response =&gt; response.json())&#10;                .then(data =&gt; {&#10;                    questions = data;&#10;                    displayQuestions();&#10;                })&#10;                .catch(error =&gt; {&#10;                    console.error('Error loading questions:', error);&#10;                    showNotification('Error loading questions', true);&#10;                });&#10;        }&#10;&#10;        // Initialize&#10;        connectToServer();&#10;        loadQuestions();&#10;&#10;        // Refresh data every 2 seconds&#10;        setInterval(() =&gt; {&#10;            if (ws &amp;&amp; ws.readyState === WebSocket.OPEN) {&#10;                sendCommand('getStatus');&#10;            }&#10;        }, 2000);&#10;    &lt;/script&gt;&#10;&lt;/body&gt;&#10;&lt;/html&gt;&#10;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/web/index.html">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/web/index.html" />
              <option name="originalContent" value="&lt;!DOCTYPE html&gt;&#10;&lt;html lang=&quot;en&quot;&gt;&#10;&lt;head&gt;&#10;    &lt;meta charset=&quot;UTF-8&quot;&gt;&#10;    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;&#10;    &lt;title&gt;Multiplayer Quiz Game&lt;/title&gt;&#10;    &lt;style&gt;&#10;        * {&#10;            margin: 0;&#10;            padding: 0;&#10;            box-sizing: border-box;&#10;        }&#10;&#10;        body {&#10;            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;&#10;            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);&#10;            min-height: 100vh;&#10;            display: flex;&#10;            justify-content: center;&#10;            align-items: center;&#10;            color: white;&#10;        }&#10;&#10;        .container {&#10;            width: 90%;&#10;            max-width: 800px;&#10;            padding: 20px;&#10;        }&#10;&#10;        .header {&#10;            text-align: center;&#10;            margin-bottom: 30px;&#10;        }&#10;&#10;        .header h1 {&#10;            font-size: 3em;&#10;            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);&#10;            animation: bounce 1s ease-in-out;&#10;        }&#10;&#10;        @keyframes bounce {&#10;            0%, 100% { transform: translateY(0); }&#10;            50% { transform: translateY(-10px); }&#10;        }&#10;&#10;        .game-info {&#10;            background: rgba(255, 255, 255, 0.2);&#10;            border-radius: 15px;&#10;            padding: 15px;&#10;            margin-bottom: 20px;&#10;            display: flex;&#10;            justify-content: space-between;&#10;            align-items: center;&#10;        }&#10;&#10;        .player-info {&#10;            font-size: 1.2em;&#10;            font-weight: bold;&#10;        }&#10;&#10;        .score {&#10;            font-size: 1.5em;&#10;            color: #ffd700;&#10;            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);&#10;        }&#10;&#10;        #usernameScreen {&#10;            background: white;&#10;            color: #333;&#10;            padding: 40px;&#10;            border-radius: 20px;&#10;            text-align: center;&#10;            box-shadow: 0 10px 40px rgba(0,0,0,0.3);&#10;        }&#10;&#10;        #usernameScreen h2 {&#10;            margin-bottom: 20px;&#10;            color: #667eea;&#10;        }&#10;&#10;        #usernameInput {&#10;            padding: 15px;&#10;            font-size: 1.2em;&#10;            border: 2px solid #667eea;&#10;            border-radius: 10px;&#10;            width: 100%;&#10;            max-width: 300px;&#10;            margin-bottom: 20px;&#10;        }&#10;&#10;        #joinButton {&#10;            padding: 15px 40px;&#10;            font-size: 1.2em;&#10;            background: #667eea;&#10;            color: white;&#10;            border: none;&#10;            border-radius: 10px;&#10;            cursor: pointer;&#10;            transition: all 0.3s;&#10;        }&#10;&#10;        #joinButton:hover {&#10;            background: #764ba2;&#10;            transform: scale(1.05);&#10;        }&#10;&#10;        #waitingScreen {&#10;            text-align: center;&#10;            font-size: 1.5em;&#10;        }&#10;&#10;        .spinner {&#10;            border: 4px solid rgba(255,255,255,0.3);&#10;            border-top: 4px solid white;&#10;            border-radius: 50%;&#10;            width: 50px;&#10;            height: 50px;&#10;            animation: spin 1s linear infinite;&#10;            margin: 20px auto;&#10;        }&#10;&#10;        @keyframes spin {&#10;            0% { transform: rotate(0deg); }&#10;            100% { transform: rotate(360deg); }&#10;        }&#10;&#10;        .question-card {&#10;            background: white;&#10;            color: #333;&#10;            padding: 30px;&#10;            border-radius: 20px;&#10;            box-shadow: 0 10px 40px rgba(0,0,0,0.3);&#10;            margin-bottom: 20px;&#10;        }&#10;&#10;        .question-header {&#10;            display: flex;&#10;            justify-content: space-between;&#10;            margin-bottom: 20px;&#10;            font-size: 0.9em;&#10;            color: #666;&#10;        }&#10;&#10;        .question-text {&#10;            font-size: 1.8em;&#10;            font-weight: bold;&#10;            margin-bottom: 30px;&#10;            color: #667eea;&#10;        }&#10;&#10;        .timer {&#10;            font-size: 2em;&#10;            font-weight: bold;&#10;            color: #ff4757;&#10;            text-align: center;&#10;            margin-bottom: 20px;&#10;        }&#10;&#10;        .options {&#10;            display: grid;&#10;            grid-template-columns: 1fr 1fr;&#10;            gap: 15px;&#10;        }&#10;&#10;        .option-btn {&#10;            padding: 25px;&#10;            font-size: 1.2em;&#10;            font-weight: bold;&#10;            border: none;&#10;            border-radius: 15px;&#10;            cursor: pointer;&#10;            transition: all 0.3s;&#10;            color: white;&#10;            box-shadow: 0 4px 15px rgba(0,0,0,0.2);&#10;        }&#10;&#10;        .option-btn:hover:not(:disabled) {&#10;            transform: translateY(-5px);&#10;            box-shadow: 0 8px 20px rgba(0,0,0,0.3);&#10;        }&#10;&#10;        .option-btn:disabled {&#10;            opacity: 0.6;&#10;            cursor: not-allowed;&#10;        }&#10;&#10;        .option-btn:nth-child(1) { background: #e74c3c; }&#10;        .option-btn:nth-child(2) { background: #3498db; }&#10;        .option-btn:nth-child(3) { background: #f39c12; }&#10;        .option-btn:nth-child(4) { background: #2ecc71; }&#10;&#10;        .option-btn.correct {&#10;            background: #27ae60 !important;&#10;            animation: pulse 0.5s;&#10;        }&#10;&#10;        .option-btn.wrong {&#10;            background: #c0392b !important;&#10;            animation: shake 0.5s;&#10;        }&#10;&#10;        @keyframes pulse {&#10;            0%, 100% { transform: scale(1); }&#10;            50% { transform: scale(1.1); }&#10;        }&#10;&#10;        @keyframes shake {&#10;            0%, 100% { transform: translateX(0); }&#10;            25% { transform: translateX(-10px); }&#10;            75% { transform: translateX(10px); }&#10;        }&#10;&#10;        .results-card {&#10;            background: white;&#10;            color: #333;&#10;            padding: 30px;&#10;            border-radius: 20px;&#10;            box-shadow: 0 10px 40px rgba(0,0,0,0.3);&#10;        }&#10;&#10;        .results-card h2 {&#10;            color: #667eea;&#10;            margin-bottom: 20px;&#10;        }&#10;&#10;        .correct-answer {&#10;            font-size: 1.5em;&#10;            padding: 20px;&#10;            background: #d5f4e6;&#10;            border-radius: 10px;&#10;            margin-bottom: 20px;&#10;            color: #27ae60;&#10;        }&#10;&#10;        .leaderboard {&#10;            margin-top: 20px;&#10;        }&#10;&#10;        .leaderboard-item {&#10;            display: flex;&#10;            justify-content: space-between;&#10;            padding: 15px;&#10;            margin: 10px 0;&#10;            background: #f8f9fa;&#10;            border-radius: 10px;&#10;            font-size: 1.2em;&#10;        }&#10;&#10;        .leaderboard-item:nth-child(1) {&#10;            background: linear-gradient(135deg, #ffd700 0%, #ffed4e 100%);&#10;            font-size: 1.4em;&#10;        }&#10;&#10;        .leaderboard-item:nth-child(2) {&#10;            background: linear-gradient(135deg, #c0c0c0 0%, #e8e8e8 100%);&#10;        }&#10;&#10;        .leaderboard-item:nth-child(3) {&#10;            background: linear-gradient(135deg, #cd7f32 0%, #e5a36c 100%);&#10;        }&#10;&#10;        .hidden {&#10;            display: none;&#10;        }&#10;&#10;        .notification {&#10;            position: fixed;&#10;            top: 20px;&#10;            right: 20px;&#10;            padding: 15px 25px;&#10;            background: rgba(255,255,255,0.95);&#10;            color: #333;&#10;            border-radius: 10px;&#10;            box-shadow: 0 4px 15px rgba(0,0,0,0.3);&#10;            animation: slideIn 0.3s;&#10;            z-index: 1000;&#10;        }&#10;&#10;        @keyframes slideIn {&#10;            from {&#10;                transform: translateX(400px);&#10;                opacity: 0;&#10;            }&#10;            to {&#10;                transform: translateX(0);&#10;                opacity: 1;&#10;            }&#10;        }&#10;    &lt;/style&gt;&#10;&lt;/head&gt;&#10;&lt;body&gt;&#10;&lt;div class=&quot;container&quot;&gt;&#10;    &lt;div class=&quot;header&quot;&gt;&#10;        &lt;h1&gt; Quiz Game&lt;/h1&gt;&#10;    &lt;/div&gt;&#10;&#10;    &lt;!-- Username Entry Screen --&gt;&#10;    &lt;div id=&quot;usernameScreen&quot;&gt;&#10;        &lt;h2&gt;Welcome! Enter your name to join&lt;/h2&gt;&#10;        &lt;input type=&quot;text&quot; id=&quot;usernameInput&quot; placeholder=&quot;Your name...&quot; maxlength=&quot;20&quot; onkeypress=&quot;if(event.key==='Enter') joinGame();&quot;&gt;&#10;        &lt;br&gt;&#10;        &lt;button id=&quot;joinButton&quot; onclick=&quot;joinGame()&quot;&gt;Join Game&lt;/button&gt;&#10;    &lt;/div&gt;&#10;&#10;    &lt;!-- Waiting Screen --&gt;&#10;    &lt;div id=&quot;waitingScreen&quot; class=&quot;hidden&quot;&gt;&#10;        &lt;p&gt;Waiting for next question...&lt;/p&gt;&#10;        &lt;div class=&quot;spinner&quot;&gt;&lt;/div&gt;&#10;    &lt;/div&gt;&#10;&#10;    &lt;!-- Game Info --&gt;&#10;    &lt;div id=&quot;gameInfo&quot; class=&quot;game-info hidden&quot;&gt;&#10;        &lt;div class=&quot;player-info&quot;&gt;&#10;            &lt;span&gt;Player: &lt;span id=&quot;playerName&quot;&gt;-&lt;/span&gt;&lt;/span&gt;&#10;        &lt;/div&gt;&#10;        &lt;div class=&quot;score&quot;&gt;&#10;            Score: &lt;span id=&quot;playerScore&quot;&gt;0&lt;/span&gt;&#10;        &lt;/div&gt;&#10;    &lt;/div&gt;&#10;&#10;    &lt;!-- Question Screen --&gt;&#10;    &lt;div id=&quot;questionScreen&quot; class=&quot;hidden&quot;&gt;&#10;        &lt;div class=&quot;question-card&quot;&gt;&#10;            &lt;div class=&quot;question-header&quot;&gt;&#10;                &lt;span&gt;Question &lt;span id=&quot;questionNumber&quot;&gt;1&lt;/span&gt;/&lt;span id=&quot;totalQuestions&quot;&gt;10&lt;/span&gt;&lt;/span&gt;&#10;                &lt;span id=&quot;connectionStatus&quot;&gt; Connected&lt;/span&gt;&#10;            &lt;/div&gt;&#10;            &lt;div class=&quot;question-text&quot; id=&quot;questionText&quot;&gt;&lt;/div&gt;&#10;            &lt;div class=&quot;timer&quot; id=&quot;timer&quot;&gt;20&lt;/div&gt;&#10;            &lt;div class=&quot;options&quot; id=&quot;optionsContainer&quot;&gt;&lt;/div&gt;&#10;        &lt;/div&gt;&#10;    &lt;/div&gt;&#10;&#10;    &lt;!-- Results Screen --&gt;&#10;    &lt;div id=&quot;resultsScreen&quot; class=&quot;hidden&quot;&gt;&#10;        &lt;div class=&quot;results-card&quot;&gt;&#10;            &lt;h2&gt; Round Results&lt;/h2&gt;&#10;            &lt;div class=&quot;correct-answer&quot;&gt;&#10;                Correct Answer: &lt;span id=&quot;correctAnswer&quot;&gt;&lt;/span&gt;&#10;            &lt;/div&gt;&#10;&#10;            &lt;!-- Player's Own Rank Display --&gt;&#10;            &lt;div id=&quot;yourRank&quot; style=&quot;margin: 20px 0; padding: 20px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 15px; text-align: center; color: white; box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);&quot;&gt;&#10;                &lt;div style=&quot;font-size: 0.9em; margin-bottom: 5px; opacity: 0.9;&quot;&gt;Your Overall Rank&lt;/div&gt;&#10;                &lt;div style=&quot;font-size: 2.5em; font-weight: bold; margin: 10px 0;&quot; id=&quot;yourRankNumber&quot;&gt;-&lt;/div&gt;&#10;                &lt;div style=&quot;font-size: 1.1em; opacity: 0.95;&quot; id=&quot;yourRankDetails&quot;&gt;-&lt;/div&gt;&#10;            &lt;/div&gt;&#10;&#10;            &lt;h3&gt; Leaderboard&lt;/h3&gt;&#10;            &lt;div class=&quot;leaderboard&quot; id=&quot;leaderboard&quot;&gt;&lt;/div&gt;&#10;            &lt;div id=&quot;waitingMessage&quot; class=&quot;hidden&quot; style=&quot;margin-top: 20px; padding: 15px; background: rgba(52, 152, 219, 0.2); border-radius: 10px; text-align: center; color: #3498db; font-size: 1.1em;&quot;&gt;&#10;                ⏸️ Waiting for admin to start next question...&#10;            &lt;/div&gt;&#10;        &lt;/div&gt;&#10;    &lt;/div&gt;&#10;&#10;    &lt;!-- Final Results Screen --&gt;&#10;    &lt;div id=&quot;finalResultsScreen&quot; class=&quot;hidden&quot;&gt;&#10;        &lt;div class=&quot;results-card&quot;&gt;&#10;            &lt;h2 style=&quot;font-size: 2.5em; text-align: center; margin-bottom: 20px;&quot;&gt; Final Results &lt;/h2&gt;&#10;            &lt;div class=&quot;correct-answer&quot; style=&quot;background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; text-align: center; font-size: 1.3em;&quot;&gt;&#10;                &lt;span id=&quot;finalMessage&quot;&gt;Game has ended!&lt;/span&gt;&#10;            &lt;/div&gt;&#10;            &lt;h3 style=&quot;text-align: center; margin-top: 30px; font-size: 1.8em;&quot;&gt; Final Standings &lt;/h3&gt;&#10;            &lt;div class=&quot;leaderboard&quot; id=&quot;finalLeaderboard&quot;&gt;&lt;/div&gt;&#10;        &lt;/div&gt;&#10;    &lt;/div&gt;&#10;&lt;/div&gt;&#10;&#10;&lt;script&gt;&#10;    let ws;&#10;    let username = '';&#10;    let currentScore = 0;&#10;    let currentQuestionIndex = -1;&#10;    let timerInterval;&#10;    let timeRemaining = 0;&#10;    let questionStartTime = 0; // Track when question started&#10;&#10;    function joinGame() {&#10;        const input = document.getElementById('usernameInput');&#10;        username = input.value.trim();&#10;        if (!username) {&#10;            alert('Please enter your name!');&#10;            return;&#10;        }&#10;&#10;        // Connect to WebSocket&#10;        ws = new WebSocket('ws://localhost:1234');&#10;&#10;        ws.onopen = function() {&#10;            console.log('Connected to server');&#10;            ws.send(username);&#10;        };&#10;&#10;        ws.onmessage = function(event) {&#10;            try {&#10;                const data = JSON.parse(event.data);&#10;                handleMessage(data);&#10;            } catch (e) {&#10;                console.log('Text message:', event.data);&#10;            }&#10;        };&#10;&#10;        ws.onclose = function() {&#10;            showNotification('Disconnected from server');&#10;            document.getElementById('connectionStatus').textContent = ' Disconnected';&#10;        };&#10;&#10;        ws.onerror = function(error) {&#10;            console.error('WebSocket error:', error);&#10;            showNotification('Connection error!');&#10;        };&#10;    }&#10;&#10;    function handleMessage(data) {&#10;        switch(data.type) {&#10;            case 'welcome':&#10;                document.getElementById('usernameScreen').classList.add('hidden');&#10;                document.getElementById('waitingScreen').classList.remove('hidden');&#10;                document.getElementById('gameInfo').classList.remove('hidden');&#10;                document.getElementById('playerName').textContent = data.username;&#10;                showNotification('Welcome, ' + data.username + '!');&#10;                break;&#10;&#10;            case 'playerJoined':&#10;                showNotification(data.username + ' joined the game!');&#10;                break;&#10;&#10;            case 'question':&#10;                showQuestion(data);&#10;                break;&#10;&#10;            case 'answerResult':&#10;                handleAnswerResult(data);&#10;                break;&#10;&#10;            case 'results':&#10;                showResults(data);&#10;                break;&#10;&#10;            case 'gameEnded':&#10;                showFinalLeaderboard(data);&#10;                break;&#10;&#10;            case 'waitingForAdmin':&#10;                // Keep results screen visible with leaderboard&#10;                // Show waiting message on the results screen&#10;                document.getElementById('waitingMessage').classList.remove('hidden');&#10;                showNotification(data.message || 'Waiting for admin to start next question...');&#10;                break;&#10;        }&#10;    }&#10;&#10;    function showQuestion(data) {&#10;        currentQuestionIndex = data.questionIndex;&#10;        questionStartTime = data.startTime || Date.now(); // Store start time from server&#10;&#10;        // Hide other screens&#10;        document.getElementById('waitingScreen').classList.add('hidden');&#10;        document.getElementById('resultsScreen').classList.add('hidden');&#10;        document.getElementById('waitingMessage').classList.add('hidden'); // Hide waiting message&#10;        document.getElementById('questionScreen').classList.remove('hidden');&#10;&#10;        // Update question info&#10;        document.getElementById('questionNumber').textContent = data.questionNumber;&#10;        document.getElementById('totalQuestions').textContent = data.totalQuestions;&#10;        document.getElementById('questionText').textContent = data.question;&#10;&#10;        // Create option buttons&#10;        const container = document.getElementById('optionsContainer');&#10;        container.innerHTML = '';&#10;&#10;        data.options.forEach(option =&gt; {&#10;            const btn = document.createElement('button');&#10;            btn.className = 'option-btn';&#10;            btn.textContent = option;&#10;            btn.onclick = () =&gt; submitAnswer(option, btn);&#10;            container.appendChild(btn);&#10;        });&#10;&#10;        // Start timer&#10;        timeRemaining = data.duration;&#10;        updateTimer();&#10;        timerInterval = setInterval(updateTimer, 1000);&#10;    }&#10;&#10;    function updateTimer() {&#10;        const timerElement = document.getElementById('timer');&#10;        timerElement.textContent = timeRemaining;&#10;&#10;        if (timeRemaining &lt;= 5) {&#10;            timerElement.style.color = '#ff4757';&#10;        } else {&#10;            timerElement.style.color = '#2ecc71';&#10;        }&#10;&#10;        if (timeRemaining &lt;= 0) {&#10;            clearInterval(timerInterval);&#10;            disableAllOptions();&#10;        } else {&#10;            timeRemaining--;&#10;        }&#10;    }&#10;&#10;    function submitAnswer(answer, button) {&#10;        clearInterval(timerInterval);&#10;        disableAllOptions();&#10;&#10;        const answerTime = Date.now(); // Capture answer submission time&#10;&#10;        const message = {&#10;            type: 'answer',&#10;            answer: answer,&#10;            questionIndex: currentQuestionIndex,&#10;            answerTime: answerTime // Send answer time to server&#10;        };&#10;&#10;        ws.send(JSON.stringify(message));&#10;    }&#10;&#10;    function handleAnswerResult(data) {&#10;        if (data.correct) {&#10;            currentScore = data.score;&#10;            document.getElementById('playerScore').textContent = currentScore;&#10;            showNotification('✅ Correct! +100 points');&#10;        } else {&#10;            showNotification('❌ Wrong answer');&#10;        }&#10;    }&#10;&#10;    function showResults(data) {&#10;        clearInterval(timerInterval);&#10;&#10;        // Hide question screen&#10;        document.getElementById('questionScreen').classList.add('hidden');&#10;        document.getElementById('resultsScreen').classList.remove('hidden');&#10;        document.getElementById('waitingMessage').classList.add('hidden'); // Initially hide waiting message&#10;&#10;        // Show correct answer&#10;        document.getElementById('correctAnswer').textContent = data.correctAnswer;&#10;&#10;        // Find player's rank and details&#10;        let playerRank = -1;&#10;        let playerData = null;&#10;        data.leaderboard.forEach((player, index) =&gt; {&#10;            if (player.username === username) {&#10;                playerRank = index + 1;&#10;                playerData = player;&#10;            }&#10;        });&#10;&#10;        // Display player's rank&#10;        if (playerRank &gt; 0 &amp;&amp; playerData) {&#10;            const rankNumber = document.getElementById('yourRankNumber');&#10;            const rankDetails = document.getElementById('yourRankDetails');&#10;&#10;            let rankEmoji = '';&#10;            if (playerRank === 1) rankEmoji = '';&#10;            else if (playerRank === 2) rankEmoji = '';&#10;            else if (playerRank === 3) rankEmoji = '';&#10;&#10;            rankNumber.textContent = `${rankEmoji} ${playerRank}${getOrdinalSuffix(playerRank)}`;&#10;&#10;            const timeInSeconds = playerData.totalTime ? (playerData.totalTime / 1000).toFixed(1) : '0.0';&#10;            const totalPlayers = data.leaderboard.length;&#10;            rankDetails.textContent = `${playerData.score} pts • ⏱️ ${timeInSeconds}s • Out of ${totalPlayers} players`;&#10;        }&#10;&#10;        // Show leaderboard&#10;        const leaderboard = document.getElementById('leaderboard');&#10;        leaderboard.innerHTML = '';&#10;&#10;        data.leaderboard.forEach((player, index) =&gt; {&#10;            const item = document.createElement('div');&#10;            item.className = 'leaderboard-item';&#10;&#10;            // Highlight current player&#10;            if (player.username === username) {&#10;                item.style.border = '2px solid #667eea';&#10;                item.style.background = 'linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%)';&#10;            }&#10;&#10;            let medal = '';&#10;            if (index === 0) medal = '';&#10;            else if (index === 1) medal = '';&#10;            else if (index === 2) medal = '';&#10;            else medal = `${index + 1}.`;&#10;&#10;            // Format time (convert ms to seconds)&#10;            const timeInSeconds = (player.totalTime / 1000).toFixed(1);&#10;            const timeDisplay = player.totalTime &gt; 0 ? ` (⏱️ ${timeInSeconds}s)` : '';&#10;&#10;            item.innerHTML = `&#10;                    &lt;span&gt;${medal} ${player.username}${timeDisplay}&lt;/span&gt;&#10;                    &lt;span&gt;${player.score} pts&lt;/span&gt;&#10;                `;&#10;            leaderboard.appendChild(item);&#10;        });&#10;&#10;        // Keep results visible - no auto-hide&#10;        // Leaderboard will stay visible until next question starts&#10;    }&#10;&#10;    function getOrdinalSuffix(num) {&#10;        const j = num % 10;&#10;        const k = num % 100;&#10;        if (j === 1 &amp;&amp; k !== 11) return 'st';&#10;        if (j === 2 &amp;&amp; k !== 12) return 'nd';&#10;        if (j === 3 &amp;&amp; k !== 13) return 'rd';&#10;        return 'th';&#10;    }&#10;&#10;    function disableAllOptions() {&#10;        const buttons = document.querySelectorAll('.option-btn');&#10;        buttons.forEach(btn =&gt; btn.disabled = true);&#10;    }&#10;&#10;    function showFinalLeaderboard(data) {&#10;        clearInterval(timerInterval);&#10;&#10;        // Hide all other screens&#10;        document.getElementById('usernameScreen').classList.add('hidden');&#10;        document.getElementById('waitingScreen').classList.add('hidden');&#10;        document.getElementById('questionScreen').classList.add('hidden');&#10;        document.getElementById('resultsScreen').classList.add('hidden');&#10;        document.getElementById('finalResultsScreen').classList.remove('hidden');&#10;&#10;        // Show final message&#10;        document.getElementById('finalMessage').textContent = data.message || 'Game has ended!';&#10;&#10;        // Show final leaderboard&#10;        const finalLeaderboard = document.getElementById('finalLeaderboard');&#10;        finalLeaderboard.innerHTML = '';&#10;&#10;        data.leaderboard.forEach((player, index) =&gt; {&#10;            const item = document.createElement('div');&#10;            item.className = 'leaderboard-item';&#10;&#10;            let medal = '';&#10;            let trophy = '';&#10;            if (index === 0) {&#10;                medal = '';&#10;                trophy = '';&#10;            } else if (index === 1) {&#10;                medal = '';&#10;            } else if (index === 2) {&#10;                medal = '';&#10;            } else {&#10;                medal = `${index + 1}.`;&#10;            }&#10;&#10;            // Format time (convert ms to seconds)&#10;            const timeInSeconds = (player.totalTime / 1000).toFixed(1);&#10;            const timeDisplay = player.totalTime &gt; 0 ? ` ⏱️${timeInSeconds}s` : '';&#10;&#10;            item.innerHTML = `&#10;                &lt;span&gt;${medal} ${player.username} ${trophy}${timeDisplay}&lt;/span&gt;&#10;                &lt;span&gt;${player.score} pts&lt;/span&gt;&#10;            `;&#10;            finalLeaderboard.appendChild(item);&#10;        });&#10;&#10;        showNotification(' Game has ended!');&#10;    }&#10;&#10;    function showNotification(message) {&#10;        const notification = document.createElement('div');&#10;        notification.className = 'notification';&#10;        notification.textContent = message;&#10;        document.body.appendChild(notification);&#10;&#10;        setTimeout(() =&gt; {&#10;            notification.remove();&#10;        }, 3000);&#10;    }&#10;&lt;/script&gt;&#10;&lt;/body&gt;&#10;&lt;/html&gt;" />
              <option name="updatedContent" value="&lt;!DOCTYPE html&gt;&#10;&lt;html lang=&quot;en&quot;&gt;&#10;&lt;head&gt;&#10;    &lt;meta charset=&quot;UTF-8&quot;&gt;&#10;    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;&#10;    &lt;title&gt;Multiplayer Quiz Game&lt;/title&gt;&#10;    &lt;style&gt;&#10;        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&amp;display=swap');&#10;&#10;        * {&#10;            margin: 0;&#10;            padding: 0;&#10;            box-sizing: border-box;&#10;        }&#10;&#10;        body {&#10;            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;&#10;            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);&#10;            background-attachment: fixed;&#10;            min-height: 100vh;&#10;            display: flex;&#10;            justify-content: center;&#10;            align-items: center;&#10;            color: white;&#10;            position: relative;&#10;            overflow-x: hidden;&#10;        }&#10;&#10;        body::before {&#10;            content: '';&#10;            position: fixed;&#10;            top: 0;&#10;            left: 0;&#10;            right: 0;&#10;            bottom: 0;&#10;            background: &#10;                radial-gradient(circle at 20% 50%, rgba(120, 119, 198, 0.3), transparent 50%),&#10;                radial-gradient(circle at 80% 80%, rgba(138, 43, 226, 0.3), transparent 50%);&#10;            pointer-events: none;&#10;            z-index: 0;&#10;        }&#10;&#10;        .container {&#10;            width: 90%;&#10;            max-width: 900px;&#10;            padding: 20px;&#10;            position: relative;&#10;            z-index: 1;&#10;        }&#10;&#10;        .header {&#10;            text-align: center;&#10;            margin-bottom: 40px;&#10;            animation: fadeInDown 0.8s ease-out;&#10;        }&#10;&#10;        .header h1 {&#10;            font-size: 3.5em;&#10;            font-weight: 800;&#10;            background: linear-gradient(135deg, #ffffff 0%, #e0e7ff 100%);&#10;            -webkit-background-clip: text;&#10;            -webkit-text-fill-color: transparent;&#10;            background-clip: text;&#10;            letter-spacing: -0.02em;&#10;            margin-bottom: 10px;&#10;            filter: drop-shadow(0 4px 6px rgba(0,0,0,0.2));&#10;        }&#10;&#10;        @keyframes fadeInDown {&#10;            from {&#10;                opacity: 0;&#10;                transform: translateY(-30px);&#10;            }&#10;            to {&#10;                opacity: 1;&#10;                transform: translateY(0);&#10;            }&#10;        }&#10;&#10;        .game-info {&#10;            background: rgba(255, 255, 255, 0.15);&#10;            backdrop-filter: blur(20px);&#10;            border: 1px solid rgba(255, 255, 255, 0.25);&#10;            border-radius: 20px;&#10;            padding: 20px 30px;&#10;            margin-bottom: 25px;&#10;            display: flex;&#10;            justify-content: space-between;&#10;            align-items: center;&#10;            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);&#10;            transition: all 0.3s ease;&#10;        }&#10;&#10;        .game-info:hover {&#10;            transform: translateY(-2px);&#10;            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.2);&#10;        }&#10;&#10;        .player-info {&#10;            font-size: 1.1em;&#10;            font-weight: 600;&#10;            display: flex;&#10;            align-items: center;&#10;            gap: 10px;&#10;        }&#10;&#10;        .player-info::before {&#10;            content: '';&#10;            font-size: 1.3em;&#10;        }&#10;&#10;        .score {&#10;            font-size: 1.8em;&#10;            font-weight: 700;&#10;            color: #ffd700;&#10;            text-shadow: 0 2px 10px rgba(255, 215, 0, 0.5);&#10;            display: flex;&#10;            align-items: center;&#10;            gap: 8px;&#10;        }&#10;&#10;        .score::before {&#10;            content: '⭐';&#10;            font-size: 0.9em;&#10;        }&#10;&#10;        #usernameScreen {&#10;            background: rgba(255, 255, 255, 0.98);&#10;            color: #1e293b;&#10;            padding: 50px 40px;&#10;            border-radius: 30px;&#10;            text-align: center;&#10;            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);&#10;            animation: scaleIn 0.5s ease-out;&#10;            max-width: 500px;&#10;            margin: 0 auto;&#10;        }&#10;&#10;        @keyframes scaleIn {&#10;            from {&#10;                opacity: 0;&#10;                transform: scale(0.9);&#10;            }&#10;            to {&#10;                opacity: 1;&#10;                transform: scale(1);&#10;            }&#10;        }&#10;&#10;        #usernameScreen h2 {&#10;            margin-bottom: 15px;&#10;            font-size: 2em;&#10;            font-weight: 700;&#10;            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);&#10;            -webkit-background-clip: text;&#10;            -webkit-text-fill-color: transparent;&#10;            background-clip: text;&#10;        }&#10;&#10;        #usernameScreen p {&#10;            color: #64748b;&#10;            margin-bottom: 30px;&#10;            font-size: 1.05em;&#10;        }&#10;&#10;        #usernameInput {&#10;            padding: 18px 24px;&#10;            font-size: 1.1em;&#10;            border: 2px solid #e2e8f0;&#10;            border-radius: 16px;&#10;            width: 100%;&#10;            max-width: 350px;&#10;            margin-bottom: 25px;&#10;            transition: all 0.3s ease;&#10;            font-family: 'Inter', sans-serif;&#10;            background: #f8fafc;&#10;        }&#10;&#10;        #usernameInput:focus {&#10;            outline: none;&#10;            border-color: #667eea;&#10;            background: white;&#10;            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);&#10;            transform: translateY(-2px);&#10;        }&#10;&#10;        #joinButton {&#10;            padding: 18px 50px;&#10;            font-size: 1.15em;&#10;            font-weight: 600;&#10;            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);&#10;            color: white;&#10;            border: none;&#10;            border-radius: 16px;&#10;            cursor: pointer;&#10;            transition: all 0.3s ease;&#10;            box-shadow: 0 4px 20px rgba(102, 126, 234, 0.4);&#10;            font-family: 'Inter', sans-serif;&#10;        }&#10;&#10;        #joinButton:hover {&#10;            transform: translateY(-3px);&#10;            box-shadow: 0 8px 30px rgba(102, 126, 234, 0.5);&#10;        }&#10;&#10;        #joinButton:active {&#10;            transform: translateY(-1px);&#10;        }&#10;&#10;        #waitingScreen {&#10;            text-align: center;&#10;            font-size: 1.3em;&#10;            padding: 60px 40px;&#10;            background: rgba(255, 255, 255, 0.15);&#10;            backdrop-filter: blur(20px);&#10;            border: 1px solid rgba(255, 255, 255, 0.25);&#10;            border-radius: 30px;&#10;            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);&#10;        }&#10;&#10;        #waitingScreen p {&#10;            margin-bottom: 25px;&#10;            font-weight: 500;&#10;        }&#10;&#10;        .spinner {&#10;            border: 5px solid rgba(255,255,255,0.25);&#10;            border-top: 5px solid white;&#10;            border-radius: 50%;&#10;            width: 60px;&#10;            height: 60px;&#10;            animation: spin 1s linear infinite;&#10;            margin: 0 auto;&#10;        }&#10;&#10;        @keyframes spin {&#10;            0% { transform: rotate(0deg); }&#10;            100% { transform: rotate(360deg); }&#10;        }&#10;&#10;        .question-card {&#10;            background: rgba(255, 255, 255, 0.98);&#10;            color: #1e293b;&#10;            padding: 40px;&#10;            border-radius: 30px;&#10;            box-shadow: 0 20px 60px rgba(0,0,0,0.3);&#10;            margin-bottom: 20px;&#10;            animation: slideUp 0.5s ease-out;&#10;        }&#10;&#10;        @keyframes slideUp {&#10;            from {&#10;                opacity: 0;&#10;                transform: translateY(30px);&#10;            }&#10;            to {&#10;                opacity: 1;&#10;                transform: translateY(0);&#10;            }&#10;        }&#10;&#10;        .question-header {&#10;            display: flex;&#10;            justify-content: space-between;&#10;            align-items: center;&#10;            margin-bottom: 25px;&#10;            padding-bottom: 20px;&#10;            border-bottom: 2px solid #e2e8f0;&#10;            font-size: 0.95em;&#10;            color: #64748b;&#10;            font-weight: 600;&#10;        }&#10;&#10;        .question-text {&#10;            font-size: 1.75em;&#10;            font-weight: 700;&#10;            line-height: 1.4;&#10;            margin-bottom: 30px;&#10;            color: #1e293b;&#10;            text-align: center;&#10;        }&#10;&#10;        .timer {&#10;            font-size: 3em;&#10;            font-weight: 800;&#10;            text-align: center;&#10;            margin-bottom: 30px;&#10;            padding: 20px;&#10;            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);&#10;            border-radius: 20px;&#10;            color: white;&#10;            box-shadow: 0 8px 25px rgba(255, 107, 107, 0.4);&#10;            transition: all 0.3s ease;&#10;            animation: timerPulse 1s ease-in-out infinite;&#10;        }&#10;&#10;        @keyframes timerPulse {&#10;            0%, 100% { transform: scale(1); }&#10;            50% { transform: scale(1.02); }&#10;        }&#10;&#10;        .timer.low-time {&#10;            animation: timerShake 0.5s ease-in-out infinite;&#10;            background: linear-gradient(135deg, #ff4757 0%, #e84393 100%);&#10;        }&#10;&#10;        @keyframes timerShake {&#10;            0%, 100% { transform: translateX(0); }&#10;            25% { transform: translateX(-5px); }&#10;            75% { transform: translateX(5px); }&#10;        }&#10;&#10;        .options {&#10;            display: grid;&#10;            grid-template-columns: 1fr 1fr;&#10;            gap: 18px;&#10;        }&#10;&#10;        .option-btn {&#10;            padding: 28px 24px;&#10;            font-size: 1.15em;&#10;            font-weight: 600;&#10;            border: none;&#10;            border-radius: 18px;&#10;            cursor: pointer;&#10;            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);&#10;            color: white;&#10;            box-shadow: 0 4px 20px rgba(0,0,0,0.15);&#10;            position: relative;&#10;            overflow: hidden;&#10;            font-family: 'Inter', sans-serif;&#10;        }&#10;&#10;        .option-btn::before {&#10;            content: '';&#10;            position: absolute;&#10;            top: 0;&#10;            left: 0;&#10;            right: 0;&#10;            bottom: 0;&#10;            background: linear-gradient(135deg, rgba(255,255,255,0.2), rgba(255,255,255,0));&#10;            opacity: 0;&#10;            transition: opacity 0.3s;&#10;        }&#10;&#10;        .option-btn:hover:not(:disabled)::before {&#10;            opacity: 1;&#10;        }&#10;&#10;        .option-btn:hover:not(:disabled) {&#10;            transform: translateY(-8px) scale(1.02);&#10;            box-shadow: 0 12px 35px rgba(0,0,0,0.25);&#10;        }&#10;&#10;        .option-btn:active:not(:disabled) {&#10;            transform: translateY(-4px) scale(1.01);&#10;        }&#10;&#10;        .option-btn:disabled {&#10;            opacity: 0.7;&#10;            cursor: not-allowed;&#10;        }&#10;&#10;        .option-btn:nth-child(1) { &#10;            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);&#10;        }&#10;        .option-btn:nth-child(2) { &#10;            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);&#10;        }&#10;        .option-btn:nth-child(3) { &#10;            background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);&#10;        }&#10;        .option-btn:nth-child(4) { &#10;            background: linear-gradient(135deg, #30cfd0 0%, #330867 100%);&#10;        }&#10;&#10;        .option-btn.correct {&#10;            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%) !important;&#10;            animation: correctPulse 0.6s ease-out;&#10;            box-shadow: 0 8px 30px rgba(56, 239, 125, 0.5);&#10;        }&#10;&#10;        .option-btn.wrong {&#10;            background: linear-gradient(135deg, #eb3349 0%, #f45c43 100%) !important;&#10;            animation: wrongShake 0.6s ease-out;&#10;        }&#10;&#10;        @keyframes correctPulse {&#10;            0% { transform: scale(1); }&#10;            50% { transform: scale(1.1); }&#10;            100% { transform: scale(1); }&#10;        }&#10;&#10;        @keyframes wrongShake {&#10;            0%, 100% { transform: translateX(0); }&#10;            25% { transform: translateX(-15px); }&#10;            75% { transform: translateX(15px); }&#10;        }&#10;&#10;        .results-card {&#10;            background: rgba(255, 255, 255, 0.98);&#10;            color: #1e293b;&#10;            padding: 40px;&#10;            border-radius: 30px;&#10;            box-shadow: 0 20px 60px rgba(0,0,0,0.3);&#10;            animation: slideUp 0.5s ease-out;&#10;        }&#10;&#10;        .results-card h2 {&#10;            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);&#10;            -webkit-background-clip: text;&#10;            -webkit-text-fill-color: transparent;&#10;            background-clip: text;&#10;            margin-bottom: 25px;&#10;            font-size: 2.2em;&#10;            font-weight: 800;&#10;            text-align: center;&#10;        }&#10;&#10;        .results-card h3 {&#10;            color: #475569;&#10;            margin-top: 35px;&#10;            margin-bottom: 20px;&#10;            font-size: 1.5em;&#10;            font-weight: 700;&#10;            text-align: center;&#10;        }&#10;&#10;        .correct-answer {&#10;            font-size: 1.3em;&#10;            padding: 25px 30px;&#10;            background: linear-gradient(135deg, #d5f4e6 0%, #c3f0d9 100%);&#10;            border-radius: 18px;&#10;            margin-bottom: 25px;&#10;            color: #059669;&#10;            text-align: center;&#10;            font-weight: 600;&#10;            box-shadow: 0 4px 15px rgba(5, 150, 105, 0.15);&#10;            border-left: 5px solid #10b981;&#10;        }&#10;&#10;        .leaderboard {&#10;            margin-top: 25px;&#10;        }&#10;&#10;        .leaderboard-item {&#10;            display: flex;&#10;            justify-content: space-between;&#10;            align-items: center;&#10;            padding: 18px 24px;&#10;            margin: 12px 0;&#10;            background: #f8fafc;&#10;            border-radius: 16px;&#10;            font-size: 1.15em;&#10;            font-weight: 600;&#10;            transition: all 0.3s ease;&#10;            box-shadow: 0 2px 8px rgba(0,0,0,0.05);&#10;        }&#10;&#10;        .leaderboard-item:hover {&#10;            transform: translateX(8px);&#10;            box-shadow: 0 4px 15px rgba(0,0,0,0.1);&#10;        }&#10;&#10;        .leaderboard-item:nth-child(1) {&#10;            background: linear-gradient(135deg, #ffd700 0%, #ffed4e 100%);&#10;            font-size: 1.35em;&#10;            padding: 22px 28px;&#10;            box-shadow: 0 8px 25px rgba(255, 215, 0, 0.3);&#10;            border: 2px solid #ffed4e;&#10;        }&#10;&#10;        .leaderboard-item:nth-child(2) {&#10;            background: linear-gradient(135deg, #e0e0e0 0%, #f5f5f5 100%);&#10;            font-size: 1.25em;&#10;            padding: 20px 26px;&#10;            box-shadow: 0 6px 20px rgba(192, 192, 192, 0.3);&#10;            border: 2px solid #f0f0f0;&#10;        }&#10;&#10;        .leaderboard-item:nth-child(3) {&#10;            background: linear-gradient(135deg, #cd7f32 0%, #e5a36c 100%);&#10;            font-size: 1.2em;&#10;            padding: 19px 25px;&#10;            box-shadow: 0 5px 18px rgba(205, 127, 50, 0.3);&#10;            border: 2px solid #e5a36c;&#10;        }&#10;&#10;        .hidden {&#10;            display: none;&#10;        }&#10;&#10;        .notification {&#10;            position: fixed;&#10;            top: 30px;&#10;            right: 30px;&#10;            padding: 18px 28px;&#10;            background: rgba(255,255,255,0.98);&#10;            backdrop-filter: blur(10px);&#10;            color: #1e293b;&#10;            border-radius: 16px;&#10;            box-shadow: 0 8px 30px rgba(0,0,0,0.2);&#10;            animation: slideInRight 0.4s cubic-bezier(0.4, 0, 0.2, 1);&#10;            z-index: 1000;&#10;            font-weight: 600;&#10;            border-left: 4px solid #667eea;&#10;            max-width: 350px;&#10;        }&#10;&#10;        @keyframes slideInRight {&#10;            from {&#10;                transform: translateX(450px);&#10;                opacity: 0;&#10;            }&#10;            to {&#10;                transform: translateX(0);&#10;                opacity: 1;&#10;            }&#10;        }&#10;&#10;        @media (max-width: 768px) {&#10;            .container {&#10;                width: 95%;&#10;                padding: 15px;&#10;            }&#10;&#10;            .header h1 {&#10;                font-size: 2.5em;&#10;            }&#10;&#10;            .options {&#10;                grid-template-columns: 1fr;&#10;                gap: 12px;&#10;            }&#10;&#10;            .question-text {&#10;                font-size: 1.4em;&#10;            }&#10;&#10;            #usernameScreen {&#10;                padding: 35px 25px;&#10;            }&#10;&#10;            .notification {&#10;                right: 15px;&#10;                left: 15px;&#10;                max-width: none;&#10;            }&#10;        }&#10;    &lt;/style&gt;&#10;&lt;/head&gt;&#10;&lt;body&gt;&#10;&lt;div class=&quot;container&quot;&gt;&#10;    &lt;div class=&quot;header&quot;&gt;&#10;        &lt;h1&gt; Quiz Game&lt;/h1&gt;&#10;    &lt;/div&gt;&#10;&#10;    &lt;!-- Username Entry Screen --&gt;&#10;    &lt;div id=&quot;usernameScreen&quot;&gt;&#10;        &lt;h2&gt;Welcome! Enter your name to join&lt;/h2&gt;&#10;        &lt;input type=&quot;text&quot; id=&quot;usernameInput&quot; placeholder=&quot;Your name...&quot; maxlength=&quot;20&quot; onkeypress=&quot;if(event.key==='Enter') joinGame();&quot;&gt;&#10;        &lt;br&gt;&#10;        &lt;button id=&quot;joinButton&quot; onclick=&quot;joinGame()&quot;&gt;Join Game&lt;/button&gt;&#10;    &lt;/div&gt;&#10;&#10;    &lt;!-- Waiting Screen --&gt;&#10;    &lt;div id=&quot;waitingScreen&quot; class=&quot;hidden&quot;&gt;&#10;        &lt;p&gt;Waiting for next question...&lt;/p&gt;&#10;        &lt;div class=&quot;spinner&quot;&gt;&lt;/div&gt;&#10;    &lt;/div&gt;&#10;&#10;    &lt;!-- Game Info --&gt;&#10;    &lt;div id=&quot;gameInfo&quot; class=&quot;game-info hidden&quot;&gt;&#10;        &lt;div class=&quot;player-info&quot;&gt;&#10;            &lt;span&gt;Player: &lt;span id=&quot;playerName&quot;&gt;-&lt;/span&gt;&lt;/span&gt;&#10;        &lt;/div&gt;&#10;        &lt;div class=&quot;score&quot;&gt;&#10;            Score: &lt;span id=&quot;playerScore&quot;&gt;0&lt;/span&gt;&#10;        &lt;/div&gt;&#10;    &lt;/div&gt;&#10;&#10;    &lt;!-- Question Screen --&gt;&#10;    &lt;div id=&quot;questionScreen&quot; class=&quot;hidden&quot;&gt;&#10;        &lt;div class=&quot;question-card&quot;&gt;&#10;            &lt;div class=&quot;question-header&quot;&gt;&#10;                &lt;span&gt;Question &lt;span id=&quot;questionNumber&quot;&gt;1&lt;/span&gt;/&lt;span id=&quot;totalQuestions&quot;&gt;10&lt;/span&gt;&lt;/span&gt;&#10;                &lt;span id=&quot;connectionStatus&quot;&gt; Connected&lt;/span&gt;&#10;            &lt;/div&gt;&#10;            &lt;div class=&quot;question-text&quot; id=&quot;questionText&quot;&gt;&lt;/div&gt;&#10;            &lt;div class=&quot;timer&quot; id=&quot;timer&quot;&gt;20&lt;/div&gt;&#10;            &lt;div class=&quot;options&quot; id=&quot;optionsContainer&quot;&gt;&lt;/div&gt;&#10;        &lt;/div&gt;&#10;    &lt;/div&gt;&#10;&#10;    &lt;!-- Results Screen --&gt;&#10;    &lt;div id=&quot;resultsScreen&quot; class=&quot;hidden&quot;&gt;&#10;        &lt;div class=&quot;results-card&quot;&gt;&#10;            &lt;h2&gt; Round Results&lt;/h2&gt;&#10;            &lt;div class=&quot;correct-answer&quot;&gt;&#10;                Correct Answer: &lt;span id=&quot;correctAnswer&quot;&gt;&lt;/span&gt;&#10;            &lt;/div&gt;&#10;&#10;            &lt;!-- Player's Own Rank Display --&gt;&#10;            &lt;div id=&quot;yourRank&quot; style=&quot;margin: 20px 0; padding: 20px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 15px; text-align: center; color: white; box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);&quot;&gt;&#10;                &lt;div style=&quot;font-size: 0.9em; margin-bottom: 5px; opacity: 0.9;&quot;&gt;Your Overall Rank&lt;/div&gt;&#10;                &lt;div style=&quot;font-size: 2.5em; font-weight: bold; margin: 10px 0;&quot; id=&quot;yourRankNumber&quot;&gt;-&lt;/div&gt;&#10;                &lt;div style=&quot;font-size: 1.1em; opacity: 0.95;&quot; id=&quot;yourRankDetails&quot;&gt;-&lt;/div&gt;&#10;            &lt;/div&gt;&#10;&#10;            &lt;h3&gt; Leaderboard&lt;/h3&gt;&#10;            &lt;div class=&quot;leaderboard&quot; id=&quot;leaderboard&quot;&gt;&lt;/div&gt;&#10;            &lt;div id=&quot;waitingMessage&quot; class=&quot;hidden&quot; style=&quot;margin-top: 20px; padding: 15px; background: rgba(52, 152, 219, 0.2); border-radius: 10px; text-align: center; color: #3498db; font-size: 1.1em;&quot;&gt;&#10;                ⏸️ Waiting for admin to start next question...&#10;            &lt;/div&gt;&#10;        &lt;/div&gt;&#10;    &lt;/div&gt;&#10;&#10;    &lt;!-- Final Results Screen --&gt;&#10;    &lt;div id=&quot;finalResultsScreen&quot; class=&quot;hidden&quot;&gt;&#10;        &lt;div class=&quot;results-card&quot;&gt;&#10;            &lt;h2 style=&quot;font-size: 2.5em; text-align: center; margin-bottom: 20px;&quot;&gt; Final Results &lt;/h2&gt;&#10;            &lt;div class=&quot;correct-answer&quot; style=&quot;background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; text-align: center; font-size: 1.3em;&quot;&gt;&#10;                &lt;span id=&quot;finalMessage&quot;&gt;Game has ended!&lt;/span&gt;&#10;            &lt;/div&gt;&#10;            &lt;h3 style=&quot;text-align: center; margin-top: 30px; font-size: 1.8em;&quot;&gt; Final Standings &lt;/h3&gt;&#10;            &lt;div class=&quot;leaderboard&quot; id=&quot;finalLeaderboard&quot;&gt;&lt;/div&gt;&#10;        &lt;/div&gt;&#10;    &lt;/div&gt;&#10;&lt;/div&gt;&#10;&#10;&lt;script&gt;&#10;    let ws;&#10;    let username = '';&#10;    let currentScore = 0;&#10;    let currentQuestionIndex = -1;&#10;    let timerInterval;&#10;    let timeRemaining = 0;&#10;    let questionStartTime = 0; // Track when question started&#10;&#10;    function joinGame() {&#10;        const input = document.getElementById('usernameInput');&#10;        username = input.value.trim();&#10;        if (!username) {&#10;            alert('Please enter your name!');&#10;            return;&#10;        }&#10;&#10;        // Connect to WebSocket&#10;        ws = new WebSocket('ws://localhost:1234');&#10;&#10;        ws.onopen = function() {&#10;            console.log('Connected to server');&#10;            ws.send(username);&#10;        };&#10;&#10;        ws.onmessage = function(event) {&#10;            try {&#10;                const data = JSON.parse(event.data);&#10;                handleMessage(data);&#10;            } catch (e) {&#10;                console.log('Text message:', event.data);&#10;            }&#10;        };&#10;&#10;        ws.onclose = function() {&#10;            showNotification('Disconnected from server');&#10;            document.getElementById('connectionStatus').textContent = ' Disconnected';&#10;        };&#10;&#10;        ws.onerror = function(error) {&#10;            console.error('WebSocket error:', error);&#10;            showNotification('Connection error!');&#10;        };&#10;    }&#10;&#10;    function handleMessage(data) {&#10;        switch(data.type) {&#10;            case 'welcome':&#10;                document.getElementById('usernameScreen').classList.add('hidden');&#10;                document.getElementById('waitingScreen').classList.remove('hidden');&#10;                document.getElementById('gameInfo').classList.remove('hidden');&#10;                document.getElementById('playerName').textContent = data.username;&#10;                showNotification('Welcome, ' + data.username + '!');&#10;                break;&#10;&#10;            case 'playerJoined':&#10;                showNotification(data.username + ' joined the game!');&#10;                break;&#10;&#10;            case 'question':&#10;                showQuestion(data);&#10;                break;&#10;&#10;            case 'answerResult':&#10;                handleAnswerResult(data);&#10;                break;&#10;&#10;            case 'results':&#10;                showResults(data);&#10;                break;&#10;&#10;            case 'gameEnded':&#10;                showFinalLeaderboard(data);&#10;                break;&#10;&#10;            case 'waitingForAdmin':&#10;                // Keep results screen visible with leaderboard&#10;                // Show waiting message on the results screen&#10;                document.getElementById('waitingMessage').classList.remove('hidden');&#10;                showNotification(data.message || 'Waiting for admin to start next question...');&#10;                break;&#10;        }&#10;    }&#10;&#10;    function showQuestion(data) {&#10;        currentQuestionIndex = data.questionIndex;&#10;        questionStartTime = data.startTime || Date.now(); // Store start time from server&#10;&#10;        // Hide other screens&#10;        document.getElementById('waitingScreen').classList.add('hidden');&#10;        document.getElementById('resultsScreen').classList.add('hidden');&#10;        document.getElementById('waitingMessage').classList.add('hidden'); // Hide waiting message&#10;        document.getElementById('questionScreen').classList.remove('hidden');&#10;&#10;        // Update question info&#10;        document.getElementById('questionNumber').textContent = data.questionNumber;&#10;        document.getElementById('totalQuestions').textContent = data.totalQuestions;&#10;        document.getElementById('questionText').textContent = data.question;&#10;&#10;        // Create option buttons&#10;        const container = document.getElementById('optionsContainer');&#10;        container.innerHTML = '';&#10;&#10;        data.options.forEach(option =&gt; {&#10;            const btn = document.createElement('button');&#10;            btn.className = 'option-btn';&#10;            btn.textContent = option;&#10;            btn.onclick = () =&gt; submitAnswer(option, btn);&#10;            container.appendChild(btn);&#10;        });&#10;&#10;        // Start timer&#10;        timeRemaining = data.duration;&#10;        updateTimer();&#10;        timerInterval = setInterval(updateTimer, 1000);&#10;    }&#10;&#10;    function updateTimer() {&#10;        const timerElement = document.getElementById('timer');&#10;        timerElement.textContent = timeRemaining;&#10;&#10;        if (timeRemaining &lt;= 5) {&#10;            timerElement.classList.add('low-time');&#10;        } else {&#10;            timerElement.classList.remove('low-time');&#10;        }&#10;&#10;        if (timeRemaining &lt;= 0) {&#10;            clearInterval(timerInterval);&#10;            disableAllOptions();&#10;        } else {&#10;            timeRemaining--;&#10;        }&#10;    }&#10;&#10;    function submitAnswer(answer, button) {&#10;        clearInterval(timerInterval);&#10;        disableAllOptions();&#10;&#10;        const answerTime = Date.now(); // Capture answer submission time&#10;&#10;        const message = {&#10;            type: 'answer',&#10;            answer: answer,&#10;            questionIndex: currentQuestionIndex,&#10;            answerTime: answerTime // Send answer time to server&#10;        };&#10;&#10;        ws.send(JSON.stringify(message));&#10;    }&#10;&#10;    function handleAnswerResult(data) {&#10;        if (data.correct) {&#10;            currentScore = data.score;&#10;            document.getElementById('playerScore').textContent = currentScore;&#10;            showNotification('✅ Correct! +100 points');&#10;        } else {&#10;            showNotification('❌ Wrong answer');&#10;        }&#10;    }&#10;&#10;    function showResults(data) {&#10;        clearInterval(timerInterval);&#10;&#10;        // Hide question screen&#10;        document.getElementById('questionScreen').classList.add('hidden');&#10;        document.getElementById('resultsScreen').classList.remove('hidden');&#10;        document.getElementById('waitingMessage').classList.add('hidden'); // Initially hide waiting message&#10;&#10;        // Show correct answer&#10;        document.getElementById('correctAnswer').textContent = data.correctAnswer;&#10;&#10;        // Find player's rank and details&#10;        let playerRank = -1;&#10;        let playerData = null;&#10;        data.leaderboard.forEach((player, index) =&gt; {&#10;            if (player.username === username) {&#10;                playerRank = index + 1;&#10;                playerData = player;&#10;            }&#10;        });&#10;&#10;        // Display player's rank&#10;        if (playerRank &gt; 0 &amp;&amp; playerData) {&#10;            const rankNumber = document.getElementById('yourRankNumber');&#10;            const rankDetails = document.getElementById('yourRankDetails');&#10;&#10;            let rankEmoji = '';&#10;            if (playerRank === 1) rankEmoji = '';&#10;            else if (playerRank === 2) rankEmoji = '';&#10;            else if (playerRank === 3) rankEmoji = '';&#10;&#10;            rankNumber.textContent = `${rankEmoji} ${playerRank}${getOrdinalSuffix(playerRank)}`;&#10;&#10;            const timeInSeconds = playerData.totalTime ? (playerData.totalTime / 1000).toFixed(1) : '0.0';&#10;            const totalPlayers = data.leaderboard.length;&#10;            rankDetails.textContent = `${playerData.score} pts • ⏱️ ${timeInSeconds}s • Out of ${totalPlayers} players`;&#10;        }&#10;&#10;        // Show leaderboard&#10;        const leaderboard = document.getElementById('leaderboard');&#10;        leaderboard.innerHTML = '';&#10;&#10;        data.leaderboard.forEach((player, index) =&gt; {&#10;            const item = document.createElement('div');&#10;            item.className = 'leaderboard-item';&#10;&#10;            // Highlight current player&#10;            if (player.username === username) {&#10;                item.style.border = '2px solid #667eea';&#10;                item.style.background = 'linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%)';&#10;            }&#10;&#10;            let medal = '';&#10;            if (index === 0) medal = '';&#10;            else if (index === 1) medal = '';&#10;            else if (index === 2) medal = '';&#10;            else medal = `${index + 1}.`;&#10;&#10;            // Format time (convert ms to seconds)&#10;            const timeInSeconds = (player.totalTime / 1000).toFixed(1);&#10;            const timeDisplay = player.totalTime &gt; 0 ? ` (⏱️ ${timeInSeconds}s)` : '';&#10;&#10;            item.innerHTML = `&#10;                    &lt;span&gt;${medal} ${player.username}${timeDisplay}&lt;/span&gt;&#10;                    &lt;span&gt;${player.score} pts&lt;/span&gt;&#10;                `;&#10;            leaderboard.appendChild(item);&#10;        });&#10;&#10;        // Keep results visible - no auto-hide&#10;        // Leaderboard will stay visible until next question starts&#10;    }&#10;&#10;    function getOrdinalSuffix(num) {&#10;        const j = num % 10;&#10;        const k = num % 100;&#10;        if (j === 1 &amp;&amp; k !== 11) return 'st';&#10;        if (j === 2 &amp;&amp; k !== 12) return 'nd';&#10;        if (j === 3 &amp;&amp; k !== 13) return 'rd';&#10;        return 'th';&#10;    }&#10;&#10;    function disableAllOptions() {&#10;        const buttons = document.querySelectorAll('.option-btn');&#10;        buttons.forEach(btn =&gt; btn.disabled = true);&#10;    }&#10;&#10;    function showFinalLeaderboard(data) {&#10;        clearInterval(timerInterval);&#10;&#10;        // Hide all other screens&#10;        document.getElementById('usernameScreen').classList.add('hidden');&#10;        document.getElementById('waitingScreen').classList.add('hidden');&#10;        document.getElementById('questionScreen').classList.add('hidden');&#10;        document.getElementById('resultsScreen').classList.add('hidden');&#10;        document.getElementById('finalResultsScreen').classList.remove('hidden');&#10;&#10;        // Show final message&#10;        document.getElementById('finalMessage').textContent = data.message || 'Game has ended!';&#10;&#10;        // Show final leaderboard&#10;        const finalLeaderboard = document.getElementById('finalLeaderboard');&#10;        finalLeaderboard.innerHTML = '';&#10;&#10;        data.leaderboard.forEach((player, index) =&gt; {&#10;            const item = document.createElement('div');&#10;            item.className = 'leaderboard-item';&#10;&#10;            let medal = '';&#10;            let trophy = '';&#10;            if (index === 0) {&#10;                medal = '';&#10;                trophy = '';&#10;            } else if (index === 1) {&#10;                medal = '';&#10;            } else if (index === 2) {&#10;                medal = '';&#10;            } else {&#10;                medal = `${index + 1}.`;&#10;            }&#10;&#10;            // Format time (convert ms to seconds)&#10;            const timeInSeconds = (player.totalTime / 1000).toFixed(1);&#10;            const timeDisplay = player.totalTime &gt; 0 ? ` ⏱️${timeInSeconds}s` : '';&#10;&#10;            item.innerHTML = `&#10;                &lt;span&gt;${medal} ${player.username} ${trophy}${timeDisplay}&lt;/span&gt;&#10;                &lt;span&gt;${player.score} pts&lt;/span&gt;&#10;            `;&#10;            finalLeaderboard.appendChild(item);&#10;        });&#10;&#10;        showNotification(' Game has ended!');&#10;    }&#10;&#10;    function showNotification(message) {&#10;        const notification = document.createElement('div');&#10;        notification.className = 'notification';&#10;        notification.textContent = message;&#10;        document.body.appendChild(notification);&#10;&#10;        setTimeout(() =&gt; {&#10;            notification.remove();&#10;        }, 3000);&#10;    }&#10;&lt;/script&gt;&#10;&lt;/body&gt;&#10;&lt;/html&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>